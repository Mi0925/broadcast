function render(e,t){var t=t||0;t++;for(var n=0,o=e.length,i=[];n<o;n++)i.push({name:e[n].name,population:e[n].population,area:e[n].area,resourceData:null,children:[],checked:e[n].checked}),e[n].children&&e[n].children.length>0&&(i[n].children=render(e[n].children,t));return i}function gbMainContent(e,t){clearInterval(t),body_load(),$(".gb-main-item").load(e,function(){})}function add_tab(e,t){$(".gb-tab .swiper-slide").removeClass("cur");var n=!1;if($(".gb-tab .swiper-slide").each(function(){if($(this).find("span").text()==e)return $(".gb-tab .swiper-slide").eq($(this).index()).addClass("cur"),tabSwiper.swipeTo($(this).index()),void(n=!0)}),1!=n){var o='<a href="#'+t.slice(10,-5)+'" url="'+t+'" name="'+e+'"><span>'+e+'</span></a><i class="iconfont icon-guanbi close-tab"></i>';tabSwiper.appendSlide(o),tabActive=$(".gb-tab .swiper-slide").length-1,tabSwiper.swipeTo(tabActive),$(".gb-tab .swiper-slide:last-child").addClass("cur")}}function addDistrict(e,t,n){districtLoading++,(new BMap.Boundary).get(e,function(o){var i=o.boundaries.length;if(0===i)return void alert("未能获取当前输入行政区域");for(var a=0;a<i;a++)blist.push({points:o.boundaries[a],name:e,covering:n});0==--districtLoading&&drawBoundary(t)})}function click(e){alert(e.target.name)}function mouseover(e){e.target.label.setZIndex(99),e.target.label.setPosition(e.point),e.target.label.show()}function mousemove(e){e.target.label.setPosition(e.point)}function mouseout(e){e.target.label.hide()}function legendCover(e,t){var n=unitybmap.getOverlays();if($(t).hasClass("cur")){if("已覆盖"==e)for(var o=0;o<legendSucceed.length;o++)unitybmap.addOverlay(legendSucceed[o]);else if("未完全覆盖"==e)for(var o=0;o<legendProcess.length;o++)unitybmap.addOverlay(legendProcess[o]);else if("未覆盖"==e)for(var o=0;o<legendFailure.length;o++)unitybmap.addOverlay(legendFailure[o])}else for(var o=0;o<n.length;o++)n[o].covering==e&&("已覆盖"==e?legendSucceed.push(n[o]):"未完全覆盖"==e?legendProcess.push(n[o]):"未覆盖"==e&&legendFailure.push(n[o]),unitybmap.removeOverlay(n[o]))}function fileShow(){var e=event.clientX-event.offsetX,t=event.clientY-event.offsetY;$(".choose").css({display:"block",top:t-90,left:e-130})}function Router(){this.routes={},this.currentUrl=""}function body_load(){setTimeout(function(e){layui.use("laydate",function(){layui.laydate.render({elem:"#daterg",eventElem:"#tochobtn",trigger:"click",type:"datetime",range:!0,change:function(e,t,n){console.log(e),console.log(t),console.log(n)}})})},500)}function tabot(e){var t=$('<div class="botdiv"></div>');e.find(".tablecont").append(t),e.find(".dataTables_info").appendTo(e.find(".botdiv")),e.find(".dataTables_length").appendTo(e.find(".botdiv")),e.find(".dataTables_paginate").appendTo(e.find(".botdiv"))}function jumpPage(e){e.find(".dataTables_paginate").append("<div class='jump-page'>前往第 <input class='changePage' type='text'> 页  <a class='dataTable-btn' href='javascript:void(0);'>确认</a></div>");var t=e.find(".dataTables_scrollBody").find("table").dataTable();e.find(".dataTable-btn").click(function(n){if(e.find(".changePage").val()&&e.find(".changePage").val()>0)var o=e.find(".changePage").val()-1;else var o=0;t.fnPageChange(o)})}function rowScreen(e){var t=$('<span class="addselect"><i class="iconfont icon-arrow-bottom"></i></span>').appendTo($(e.header())),n=$('<select><option value="">全部</option></select>').appendTo($(e.header())).on("click",function(t){t.stopPropagation();var n=$.fn.dataTable.util.escapeRegex($(this).val());e.search(n?"^"+n+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,o){e=function(e){return e.replace(/<[^>]+>/g,"")}(e),n.append('<option value="'+e+'">'+e+"</option>"),t.append(n)})}function rowLevScreen(e){var t=$('<span class="addselect"><i class="iconfont icon-arrow-bottom"></i></span>').appendTo($(e.header())),n=$('<select><option value="">全部</option></select>').appendTo($(e.header())).on("click",function(t){t.stopPropagation();var n=$.fn.dataTable.util.escapeRegex($(this).val());e.search(n||"",!0,!1).draw()});e.data().unique().sort().each(function(e,o){e=$(e).attr("vel"),n.append('<option value="'+e+'">'+e+"</option>"),t.append(n)})}function userDef(e){$(".gb-packUp-leftNav").click(function(){setTimeout(function(){e.draw()},500)}),$(".taskmsg").each(function(){tabot($(this))}),$(".gb-ctab").each(function(){tabot($(this))}),$(".dsearch").on("keyup click",function(){var t=$(".dsearch").val();e.search(t,!1,!1).draw()}),$("#checkAll").on("click",function(){!0===$(this).prop("checked")?($("input[name='checkone']").prop("checked",$(this).prop("checked")),$(".dataTables_wrapper tbody tr").addClass("selected")):($("input[name='checkone']").prop("checked",!1),$(".dataTables_wrapper tbody tr").removeClass("selected"))}),$(".dataTables_wrapper tbody").on("click",'tr input[name="checkone"]',function(){$(this).parents("tr").toggleClass("selected");var e=$("[name=checkone]:checkbox");$("#checkAll").prop("checked",e.length==e.filter(":checked").length)}),$(".dataTables_wrapper").on("scroll",function(){$(".choose").is(":visible")&&($(".choose").hide(),$("table.dataTable tbody tr").removeClass("trstop trcont traga trdel"))}),$(window).resize(function(){$(".choose").is(":visible")&&($(".choose").hide(),$("table.dataTable tbody tr").removeClass("trstop trcont traga trdel"))})}function tr_del(e){e.rows("tr.selected").remove().draw(!1),$("#checkAll").attr("checked",!1),$(this).parents(".choose").hide(),layer.open({title:"提示",content:"删除成功"})}function showDiv(){var e=event.clientX-event.offsetX,t=event.clientY-event.offsetY;$(".choose").css({display:"block",top:t-80,left:e-110})}function areaZTreeOnCheck(e,t,n){console.log(n),$.fn.zTree.init($("#gb_tree_areaSel"),selSetting);var o=n.checked,i=""==$("#"+n.parentTId+">a").text()?n.name:$("#"+n.parentTId+">a").text()+"-"+n.name;if(o)if(null!=n.parentTId)areaSel.push(i);else for(var a=0;a<n.children.length;a++)areaSel.push(n.name+"-"+n.children[a].name);else if(null!=n.parentTId)for(var a=0;a<areaSel.length;a++)areaSel[a]==i&&areaSel.splice(a,1);else for(var a=0;a<areaSel.length;a++)areaSel[a].split("-")[0]==n.name&&areaSel.splice(a--,1);$.ajax({url:portsrc+"/areaSelect",type:"get",dataType:"json",data:{token:token,area:JSON.stringify(areaSel)},success:function(e){for(var e=e.body,t=[],n=0,o=0,i=[],a=$.fn.zTree.getZTreeObj("gb_tree_area"),r=$.fn.zTree.getZTreeObj("gb_tree_areaSel"),s=a.getCheckedNodes(!0),l=0;l<s.length;l++)0==s[l].level&&i.push(s[l]);$.fn.zTree.init($("#gb_tree_areaSel"),selSetting,i);for(var c=r.getCheckedNodes(!1),l=0,d=c.length;l<d;l++)r.removeNode(c[l]);for(var l=0;l<e.length;l++)n+=e[l].population,o+=e[l].area,t.push(e[l]);$.fn.zTree.init($("#gb_tree_resource"),resourceSetting,t),$(".j-peopleAffect").text(n),$(".j-coverArea").text(o)}})}function resourceZTreeOnCheck(e,t,n){$.fn.zTree.init($("#gb_tree_resourceSel"),selSetting);for(var o=$.fn.zTree.getZTreeObj("gb_tree_resource"),i=$.fn.zTree.getZTreeObj("gb_tree_resourceSel"),a=o.getCheckedNodes(!0),r=[],s=0;s<a.length;s++)0==a[s].level&&r.push(a[s]);$.fn.zTree.init($("#gb_tree_resourceSel"),selSetting,r);for(var l=i.getCheckedNodes(!1),s=0,c=l.length;s<c;s++)i.removeNode(l[s])}function addDiyDom(e,t){var n=$("#"+t.tId+"_a");if(!($("#diyBtn_"+t.id).length>0)){n.append("<i class='iconfont icon-guanbi1 tree-icon tree-close'></i>")}}function resourceDom(e,t){var n=$("#"+t.tId+"_a"),o="";$("#diyBtn_"+t.id).length>0||(t.editIcon&&(o+='<a<a href="#/'+t.treedit+'" class="add_tab" url="components/'+t.treedit+'.html" name="编辑"><i class="iconfont icon-bianji tree-icon tree-add"> 编辑</i></a>'),t.removeIcon&&(o+='<i class="iconfont icon-guanbi1 tree-icon tree-close"> 删除</i>'),t.addIcon&&(o+='<a href="#/'+t.treeadd+'" class="add_tab" url="components/'+t.treeadd+'.html" name="新建"><i class="iconfont icon-xinjian tree-icon tree-edit"> 增加</i></a>'),n.append('<div class="tree-icon-box">'+o+"</div>"))}function removeDom(e){setTimeout(function(){var t=$.fn.zTree.getZTreeObj(e),n=t.getSelectedNodes(),o=n[0];if(0==n.length)return void alert("请先选择一个节点");var i=$("#callbackTrigger").attr("checked");t.removeNode(o,i)},100)}function onClick(e,t,n){return $.fn.zTree.getZTreeObj("treeDemo").checkNode(n,!n.checked,null,!0),!1}function onCheck(e,t,n){for(var o=$.fn.zTree.getZTreeObj("treeDemo"),i=o.getCheckedNodes(!0),a="",r=0,s=i.length;r<s;r++)a+=""==$("#"+n.parentTId+">a").text()?n.name:$("#"+n.parentTId+">a").text()+"-"+n.name;$("#citySel").attr("value",a)}function showMenu(){var e=$("#citySel"),t=$("#citySel").offset();$("#menuContent").css({left:t.left+"px",top:t.top+e.outerHeight()+"px"}).slideDown("fast"),$("body").bind("mousedown",onBodyDown)}function hideMenu(){$("#menuContent").fadeOut("fast"),$("body").unbind("mousedown",onBodyDown)}function onBodyDown(e){"menuBtn"==e.target.id||"citySel"==e.target.id||"menuContent"==e.target.id||$(e.target).parents("#menuContent").length>0||hideMenu()}var Swiper=function(e,t){"use strict";function n(e,t){return document.querySelectorAll?(t||document).querySelectorAll(e):jQuery(e,t)}function o(e){return"[object Array]"===Object.prototype.toString.apply(e)}function i(){var e=L-_;return t.freeMode&&(e=L-_),t.slidesPerView>M.slides.length&&!t.centeredSlides&&(e=0),0>e&&(e=0),e}function a(){var e=M.h.addEventListener,o="wrapper"===t.eventTarget?M.wrapper:M.container;if(M.browser.ie10||M.browser.ie11?(e(o,M.touchEvents.touchStart,g),e(document,M.touchEvents.touchMove,m),e(document,M.touchEvents.touchEnd,v)):(M.support.touch&&(e(o,"touchstart",g),e(o,"touchmove",m),e(o,"touchend",v)),t.simulateTouch&&(e(o,"mousedown",g),e(document,"mousemove",m),e(document,"mouseup",v))),t.autoResize&&e(window,"resize",M.resizeFix),r(),M._wheelEvent=!1,t.mousewheelControl){if(void 0!==document.onmousewheel&&(M._wheelEvent="mousewheel"),!M._wheelEvent)try{new WheelEvent("wheel"),M._wheelEvent="wheel"}catch(e){}M._wheelEvent||(M._wheelEvent="DOMMouseScroll"),M._wheelEvent&&e(M.container,M._wheelEvent,c)}if(t.keyboardControl&&e(document,"keydown",l),t.updateOnImagesReady){M.imagesToLoad=n("img",M.container);for(var i=0;i<M.imagesToLoad.length;i++)!function(e){var n=new Image;n.onload=function(){void 0!==M&&null!==M&&(void 0!==M.imagesLoaded&&M.imagesLoaded++,M.imagesLoaded===M.imagesToLoad.length&&(M.reInit(),t.onImagesReady&&M.fireCallback(t.onImagesReady,M)))},n.src=e}(M.imagesToLoad[i].getAttribute("src"))}}function r(){var e,o=M.h.addEventListener;if(t.preventLinks){var i=n("a",M.container);for(e=0;e<i.length;e++)o(i[e],"click",h)}if(t.releaseFormElements){var a=n("input, textarea, select",M.container);for(e=0;e<a.length;e++)o(a[e],M.touchEvents.touchStart,f,!0)}if(t.onSlideClick)for(e=0;e<M.slides.length;e++)o(M.slides[e],"click",d);if(t.onSlideTouch)for(e=0;e<M.slides.length;e++)o(M.slides[e],M.touchEvents.touchStart,u)}function s(){var e,o=M.h.removeEventListener;if(t.onSlideClick)for(e=0;e<M.slides.length;e++)o(M.slides[e],"click",d);if(t.onSlideTouch)for(e=0;e<M.slides.length;e++)o(M.slides[e],M.touchEvents.touchStart,u);if(t.releaseFormElements){var i=n("input, textarea, select",M.container);for(e=0;e<i.length;e++)o(i[e],M.touchEvents.touchStart,f,!0)}if(t.preventLinks){var a=n("a",M.container);for(e=0;e<a.length;e++)o(a[e],"click",h)}}function l(e){var t=e.keyCode||e.charCode;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)){if(37===t||39===t||38===t||40===t){for(var n=!1,o=M.h.getOffset(M.container),i=M.h.windowScroll().left,a=M.h.windowScroll().top,r=M.h.windowWidth(),s=M.h.windowHeight(),l=[[o.left,o.top],[o.left+M.width,o.top],[o.left,o.top+M.height],[o.left+M.width,o.top+M.height]],c=0;c<l.length;c++){var d=l[c];d[0]>=i&&d[0]<=i+r&&d[1]>=a&&d[1]<=a+s&&(n=!0)}if(!n)return}O?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&M.swipeNext(),37===t&&M.swipePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&M.swipeNext(),38===t&&M.swipePrev())}}function c(e){var n=M._wheelEvent,o=0;if(e.detail)o=-e.detail;else if("mousewheel"===n)if(t.mousewheelControlForceToAxis)if(O){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;o=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;o=e.wheelDeltaY}else o=e.wheelDelta;else if("DOMMouseScroll"===n)o=-e.detail;else if("wheel"===n)if(t.mousewheelControlForceToAxis)if(O){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;o=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;o=-e.deltaY}else o=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(t.freeMode){var a=M.getWrapperTranslate()+o;if(a>0&&(a=0),a<-i()&&(a=-i()),M.setWrapperTransition(0),M.setWrapperTranslate(a),M.updateActiveSlide(a),0===a||a===-i())return}else(new Date).getTime()-G>60&&(0>o?M.swipeNext():M.swipePrev()),G=(new Date).getTime();return t.autoplay&&M.stopAutoplay(!0),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function d(e){M.allowSlideClick&&(p(e),M.fireCallback(t.onSlideClick,M,e))}function u(e){p(e),M.fireCallback(t.onSlideTouch,M,e)}function p(e){if(e.currentTarget)M.clickedSlide=e.currentTarget;else{var n=e.srcElement;do{if(n.className.indexOf(t.slideClass)>-1)break;n=n.parentNode}while(n);M.clickedSlide=n}M.clickedSlideIndex=M.slides.indexOf(M.clickedSlide),M.clickedSlideLoopIndex=M.clickedSlideIndex-(M.loopedSlides||0)}function h(e){return M.allowLinks?void 0:(e.preventDefault?e.preventDefault():e.returnValue=!1,t.preventLinksPropagation&&"stopPropagation"in e&&e.stopPropagation(),!1)}function f(e){return e.stopPropagation?e.stopPropagation():e.returnValue=!1,!1}function g(e){if(t.preventLinks&&(M.allowLinks=!0),M.isTouched||t.onlyExternal)return!1;var n=e.target||e.srcElement;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();var o="input select textarea".split(" ");if(t.noSwiping&&n&&b(n))return!1;if(J=!1,M.isTouched=!0,!(q="touchstart"===e.type)&&"which"in e&&3===e.which)return!1;if(!q||1===e.targetTouches.length){M.callPlugins("onTouchStartBegin"),!q&&!M.isAndroid&&o.indexOf(n.tagName.toLowerCase())<0&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var i=q?e.targetTouches[0].pageX:e.pageX||e.clientX,a=q?e.targetTouches[0].pageY:e.pageY||e.clientY;M.touches.startX=M.touches.currentX=i,M.touches.startY=M.touches.currentY=a,M.touches.start=M.touches.current=O?i:a,M.setWrapperTransition(0),M.positions.start=M.positions.current=M.getWrapperTranslate(),M.setWrapperTranslate(M.positions.start),M.times.start=(new Date).getTime(),I=void 0,t.moveStartThreshold>0&&(Y=!1),t.onTouchStart&&M.fireCallback(t.onTouchStart,M,e),M.callPlugins("onTouchStartEnd")}}function m(e){if(M.isTouched&&!t.onlyExternal&&(!q||"mousemove"!==e.type)){var n=q?e.targetTouches[0].pageX:e.pageX||e.clientX,o=q?e.targetTouches[0].pageY:e.pageY||e.clientY;if(void 0===I&&O&&(I=!!(I||Math.abs(o-M.touches.startY)>Math.abs(n-M.touches.startX))),void 0!==I||O||(I=!!(I||Math.abs(o-M.touches.startY)<Math.abs(n-M.touches.startX))),I)return void(M.isTouched=!1);if(O){if(!t.swipeToNext&&n<M.touches.startX||!t.swipeToPrev&&n>M.touches.startX)return}else if(!t.swipeToNext&&o<M.touches.startY||!t.swipeToPrev&&o>M.touches.startY)return;if(e.assignedToSwiper)return void(M.isTouched=!1);if(e.assignedToSwiper=!0,t.preventLinks&&(M.allowLinks=!1),t.onSlideClick&&(M.allowSlideClick=!1),t.autoplay&&M.stopAutoplay(!0),!q||1===e.touches.length){if(M.isMoved||(M.callPlugins("onTouchMoveStart"),t.loop&&(M.fixLoop(),M.positions.start=M.getWrapperTranslate()),t.onTouchMoveStart&&M.fireCallback(t.onTouchMoveStart,M)),M.isMoved=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,M.touches.current=O?n:o,M.positions.current=(M.touches.current-M.touches.start)*t.touchRatio+M.positions.start,M.positions.current>0&&t.onResistanceBefore&&M.fireCallback(t.onResistanceBefore,M,M.positions.current),M.positions.current<-i()&&t.onResistanceAfter&&M.fireCallback(t.onResistanceAfter,M,Math.abs(M.positions.current+i())),t.resistance&&"100%"!==t.resistance){var a;if(M.positions.current>0&&(a=1-M.positions.current/_/2,M.positions.current=.5>a?_/2:M.positions.current*a),M.positions.current<-i()){var r=(M.touches.current-M.touches.start)*t.touchRatio+(i()+M.positions.start);a=(_+r)/_;var s=M.positions.current-r*(1-a)/2,l=-i()-_/2;M.positions.current=l>s||0>=a?l:s}}if(t.resistance&&"100%"===t.resistance&&(M.positions.current>0&&(!t.freeMode||t.freeModeFluid)&&(M.positions.current=0),M.positions.current<-i()&&(!t.freeMode||t.freeModeFluid)&&(M.positions.current=-i())),!t.followFinger)return;if(t.moveStartThreshold)if(Math.abs(M.touches.current-M.touches.start)>t.moveStartThreshold||Y){if(!Y)return Y=!0,void(M.touches.start=M.touches.current);M.setWrapperTranslate(M.positions.current)}else M.positions.current=M.positions.start;else M.setWrapperTranslate(M.positions.current);return(t.freeMode||t.watchActiveIndex)&&M.updateActiveSlide(M.positions.current),t.grabCursor&&(M.container.style.cursor="move",M.container.style.cursor="grabbing",M.container.style.cursor="-moz-grabbin",M.container.style.cursor="-webkit-grabbing"),X||(X=M.touches.current),Z||(Z=(new Date).getTime()),M.velocity=(M.touches.current-X)/((new Date).getTime()-Z)/2,Math.abs(M.touches.current-X)<2&&(M.velocity=0),X=M.touches.current,Z=(new Date).getTime(),M.callPlugins("onTouchMoveEnd"),t.onTouchMove&&M.fireCallback(t.onTouchMove,M,e),!1}}}function v(e){if(I&&M.swipeReset(),!t.onlyExternal&&M.isTouched){M.isTouched=!1,t.grabCursor&&(M.container.style.cursor="move",M.container.style.cursor="grab",M.container.style.cursor="-moz-grab",M.container.style.cursor="-webkit-grab"),M.positions.current||0===M.positions.current||(M.positions.current=M.positions.start),t.followFinger&&M.setWrapperTranslate(M.positions.current),M.times.end=(new Date).getTime(),M.touches.diff=M.touches.current-M.touches.start,M.touches.abs=Math.abs(M.touches.diff),M.positions.diff=M.positions.current-M.positions.start,M.positions.abs=Math.abs(M.positions.diff);var n=M.positions.diff,o=M.positions.abs,a=M.times.end-M.times.start;5>o&&300>a&&!1===M.allowLinks&&(t.freeMode||0===o||M.swipeReset(),t.preventLinks&&(M.allowLinks=!0),t.onSlideClick&&(M.allowSlideClick=!0)),setTimeout(function(){void 0!==M&&null!==M&&(t.preventLinks&&(M.allowLinks=!0),t.onSlideClick&&(M.allowSlideClick=!0))},100);var r=i();if(!M.isMoved&&t.freeMode)return M.isMoved=!1,t.onTouchEnd&&M.fireCallback(t.onTouchEnd,M,e),void M.callPlugins("onTouchEnd");if(!M.isMoved||M.positions.current>0||M.positions.current<-r)return M.swipeReset(),t.onTouchEnd&&M.fireCallback(t.onTouchEnd,M,e),void M.callPlugins("onTouchEnd");if(M.isMoved=!1,t.freeMode){if(t.freeModeFluid){var s,l=1e3*t.momentumRatio,c=M.velocity*l,d=M.positions.current+c,u=!1,p=20*Math.abs(M.velocity)*t.momentumBounceRatio;-r>d&&(t.momentumBounce&&M.support.transitions?(-p>d+r&&(d=-r-p),s=-r,u=!0,J=!0):d=-r),d>0&&(t.momentumBounce&&M.support.transitions?(d>p&&(d=p),s=0,u=!0,J=!0):d=0),0!==M.velocity&&(l=Math.abs((d-M.positions.current)/M.velocity)),M.setWrapperTranslate(d),M.setWrapperTransition(l),t.momentumBounce&&u&&M.wrapperTransitionEnd(function(){J&&(t.onMomentumBounce&&M.fireCallback(t.onMomentumBounce,M),M.callPlugins("onMomentumBounce"),M.setWrapperTranslate(s),M.setWrapperTransition(300))}),M.updateActiveSlide(d)}return(!t.freeModeFluid||a>=300)&&M.updateActiveSlide(M.positions.current),t.onTouchEnd&&M.fireCallback(t.onTouchEnd,M,e),void M.callPlugins("onTouchEnd")}E=0>n?"toNext":"toPrev","toNext"===E&&300>=a&&(30>o||!t.shortSwipes?M.swipeReset():M.swipeNext(!0)),"toPrev"===E&&300>=a&&(30>o||!t.shortSwipes?M.swipeReset():M.swipePrev(!0));var h=0;if("auto"===t.slidesPerView){for(var f,g=Math.abs(M.getWrapperTranslate()),m=0,v=0;v<M.slides.length;v++)if(f=O?M.slides[v].getWidth(!0,t.roundLengths):M.slides[v].getHeight(!0,t.roundLengths),(m+=f)>g){h=f;break}h>_&&(h=_)}else h=P*t.slidesPerView;"toNext"===E&&a>300&&(o>=h*t.longSwipesRatio?M.swipeNext(!0):M.swipeReset()),"toPrev"===E&&a>300&&(o>=h*t.longSwipesRatio?M.swipePrev(!0):M.swipeReset()),t.onTouchEnd&&M.fireCallback(t.onTouchEnd,M,e),M.callPlugins("onTouchEnd")}}function b(e){var n=!1;do{e.className.indexOf(t.noSwipingClass)>-1&&(n=!0),e=e.parentElement}while(!n&&e.parentElement&&-1===e.className.indexOf(t.wrapperClass));return!n&&e.className.indexOf(t.wrapperClass)>-1&&e.className.indexOf(t.noSwipingClass)>-1&&(n=!0),n}function w(e,t){var n,o=document.createElement("div");return o.innerHTML=t,n=o.firstChild,n.className+=" "+e,n.outerHTML}function y(e,n,o){function i(){var a=+new Date;s+=l*(a-r)/(1e3/60),d="toNext"===c?s>e:e>s,d?(M.setWrapperTranslate(Math.ceil(s)),M._DOMAnimating=!0,window.setTimeout(function(){i()},1e3/60)):(t.onSlideChangeEnd&&("to"===n?!0===o.runCallbacks&&M.fireCallback(t.onSlideChangeEnd,M,c):M.fireCallback(t.onSlideChangeEnd,M,c)),M.setWrapperTranslate(e),M._DOMAnimating=!1)}var a="to"===n&&o.speed>=0?o.speed:t.speed,r=+new Date;if(M.support.transitions||!t.DOMAnimation)M.setWrapperTranslate(e),M.setWrapperTransition(a);else{var s=M.getWrapperTranslate(),l=Math.ceil((e-s)/a*(1e3/60)),c=s>e?"toNext":"toPrev",d="toNext"===c?s>e:e>s;if(M._DOMAnimating)return;i()}M.updateActiveSlide(e),t.onSlideNext&&"next"===n&&M.fireCallback(t.onSlideNext,M,e),t.onSlidePrev&&"prev"===n&&M.fireCallback(t.onSlidePrev,M,e),t.onSlideReset&&"reset"===n&&M.fireCallback(t.onSlideReset,M,e),("next"===n||"prev"===n||"to"===n&&!0===o.runCallbacks)&&$(n)}function $(e){if(M.callPlugins("onSlideChangeStart"),t.onSlideChangeStart)if(t.queueStartCallbacks&&M.support.transitions){if(M._queueStartCallbacks)return;M._queueStartCallbacks=!0,M.fireCallback(t.onSlideChangeStart,M,e),M.wrapperTransitionEnd(function(){M._queueStartCallbacks=!1})}else M.fireCallback(t.onSlideChangeStart,M,e);if(t.onSlideChangeEnd)if(M.support.transitions)if(t.queueEndCallbacks){if(M._queueEndCallbacks)return;M._queueEndCallbacks=!0,M.wrapperTransitionEnd(function(n){M.fireCallback(t.onSlideChangeEnd,n,e)})}else M.wrapperTransitionEnd(function(n){M.fireCallback(t.onSlideChangeEnd,n,e)});else t.DOMAnimation||setTimeout(function(){M.fireCallback(t.onSlideChangeEnd,M,e)},10)}function S(){var e=M.paginationButtons;if(e)for(var t=0;t<e.length;t++)M.h.removeEventListener(e[t],"click",x)}function C(){var e=M.paginationButtons;if(e)for(var t=0;t<e.length;t++)M.h.addEventListener(e[t],"click",x)}function x(e){for(var n,o=e.target||e.srcElement,i=M.paginationButtons,a=0;a<i.length;a++)o===i[a]&&(n=a);t.autoplay&&M.stopAutoplay(!0),M.swipeTo(n)}function T(){K=setTimeout(function(){t.loop?(M.fixLoop(),M.swipeNext(!0)):M.swipeNext(!0)||(t.autoplayStopOnLast?(clearTimeout(K),K=void 0):M.swipeTo(0)),M.wrapperTransitionEnd(function(){void 0!==K&&T()})},t.autoplay)}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var k=HTMLElement.prototype;k.__defineGetter__&&k.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,o=this.length;o>n;n++)if(this[n]===e)return n;return-1}),(document.querySelectorAll||window.jQuery)&&void 0!==e&&(e.nodeType||0!==n(e).length)){var M=this;M.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},M.positions={start:0,abs:0,diff:0,current:0},M.times={start:0,end:0},M.id=(new Date).getTime(),M.container=e.nodeType?e:n(e)[0],M.isTouched=!1,M.isMoved=!1,M.activeIndex=0,M.centerIndex=0,M.activeLoaderIndex=0,M.activeLoopIndex=0,M.previousIndex=null,M.velocity=0,M.snapGrid=[],M.slidesGrid=[],M.imagesToLoad=[],M.imagesLoaded=0,M.wrapperLeft=0,M.wrapperRight=0,M.wrapperTop=0,M.wrapperBottom=0,M.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var R,P,L,E,I,_,A={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};t=t||{};for(var j in A)if(j in t&&"object"==typeof t[j])for(var D in A[j])D in t[j]||(t[j][D]=A[j][D]);else j in t||(t[j]=A[j]);M.params=t,t.scrollContainer&&(t.freeMode=!0,t.freeModeFluid=!0),t.loop&&(t.resistance="100%");var O="horizontal"===t.mode,N=["mousedown","mousemove","mouseup"];M.browser.ie10&&(N=["MSPointerDown","MSPointerMove","MSPointerUp"]),M.browser.ie11&&(N=["pointerdown","pointermove","pointerup"]),M.touchEvents={touchStart:M.support.touch||!t.simulateTouch?"touchstart":N[0],touchMove:M.support.touch||!t.simulateTouch?"touchmove":N[1],touchEnd:M.support.touch||!t.simulateTouch?"touchend":N[2]};for(var z=M.container.childNodes.length-1;z>=0;z--)if(M.container.childNodes[z].className)for(var V=M.container.childNodes[z].className.split(/\s+/),W=0;W<V.length;W++)V[W]===t.wrapperClass&&(R=M.container.childNodes[z]);M.wrapper=R,M._extendSwiperSlide=function(e){return e.append=function(){return t.loop?e.insertAfter(M.slides.length-M.loopedSlides):(M.wrapper.appendChild(e),M.reInit()),e},e.prepend=function(){return t.loop?(M.wrapper.insertBefore(e,M.slides[M.loopedSlides]),M.removeLoopedSlides(),M.calcSlides(),M.createLoop()):M.wrapper.insertBefore(e,M.wrapper.firstChild),M.reInit(),e},e.insertAfter=function(n){if(void 0===n)return!1;var o;return t.loop?(o=M.slides[n+1+M.loopedSlides],o?M.wrapper.insertBefore(e,o):M.wrapper.appendChild(e),M.removeLoopedSlides(),M.calcSlides(),M.createLoop()):(o=M.slides[n+1],M.wrapper.insertBefore(e,o)),M.reInit(),e},e.clone=function(){return M._extendSwiperSlide(e.cloneNode(!0))},e.remove=function(){M.wrapper.removeChild(e),M.reInit()},e.html=function(t){return void 0===t?e.innerHTML:(e.innerHTML=t,e)},e.index=function(){for(var t,n=M.slides.length-1;n>=0;n--)e===M.slides[n]&&(t=n);return t},e.isActive=function(){return e.index()===M.activeIndex},e.swiperSlideDataStorage||(e.swiperSlideDataStorage={}),e.getData=function(t){return e.swiperSlideDataStorage[t]},e.setData=function(t,n){return e.swiperSlideDataStorage[t]=n,e},e.data=function(t,n){return void 0===n?e.getAttribute("data-"+t):(e.setAttribute("data-"+t,n),e)},e.getWidth=function(t,n){return M.h.getWidth(e,t,n)},e.getHeight=function(t,n){return M.h.getHeight(e,t,n)},e.getOffset=function(){return M.h.getOffset(e)},e},M.calcSlides=function(e){var n=!!M.slides&&M.slides.length;M.slides=[],M.displaySlides=[];for(var o=0;o<M.wrapper.childNodes.length;o++)if(M.wrapper.childNodes[o].className)for(var i=M.wrapper.childNodes[o].className,a=i.split(/\s+/),l=0;l<a.length;l++)a[l]===t.slideClass&&M.slides.push(M.wrapper.childNodes[o]);for(o=M.slides.length-1;o>=0;o--)M._extendSwiperSlide(M.slides[o]);!1!==n&&(n!==M.slides.length||e)&&(s(),r(),M.updateActiveSlide(),M.params.pagination&&M.createPagination(),M.callPlugins("numberOfSlidesChanged"))},M.createSlide=function(e,n,o){n=n||M.params.slideClass,o=o||t.slideElement;var i=document.createElement(o);return i.innerHTML=e||"",i.className=n,M._extendSwiperSlide(i)},M.appendSlide=function(e,t,n){return e?e.nodeType?M._extendSwiperSlide(e).append():M.createSlide(e,t,n).append():void 0},M.prependSlide=function(e,t,n){return e?e.nodeType?M._extendSwiperSlide(e).prepend():M.createSlide(e,t,n).prepend():void 0},M.insertSlideAfter=function(e,t,n,o){return void 0!==e&&(t.nodeType?M._extendSwiperSlide(t).insertAfter(e):M.createSlide(t,n,o).insertAfter(e))},M.removeSlide=function(e){if(M.slides[e]){if(t.loop){if(!M.slides[e+M.loopedSlides])return!1;M.slides[e+M.loopedSlides].remove(),M.removeLoopedSlides(),M.calcSlides(),M.createLoop()}else M.slides[e].remove();return!0}return!1},M.removeLastSlide=function(){return M.slides.length>0&&(t.loop?(M.slides[M.slides.length-1-M.loopedSlides].remove(),M.removeLoopedSlides(),M.calcSlides(),M.createLoop()):M.slides[M.slides.length-1].remove(),!0)},M.removeAllSlides=function(){for(var e=M.slides.length-1;e>=0;e--)M.slides[e].remove()},M.getSlide=function(e){return M.slides[e]},M.getLastSlide=function(){return M.slides[M.slides.length-1]},M.getFirstSlide=function(){return M.slides[0]},M.activeSlide=function(){return M.slides[M.activeIndex]},M.fireCallback=function(){var e=arguments[0];if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++)"function"==typeof e[n]&&e[n](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);else"[object String]"===Object.prototype.toString.call(e)?t["on"+e]&&M.fireCallback(t["on"+e],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):e(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},M.addCallback=function(e,t){var n;return this.params["on"+e]?o(this.params["on"+e])?this.params["on"+e].push(t):"function"==typeof this.params["on"+e]?(n=this.params["on"+e],this.params["on"+e]=[],this.params["on"+e].push(n),this.params["on"+e].push(t)):void 0:(this.params["on"+e]=[],this.params["on"+e].push(t))},M.removeCallbacks=function(e){M.params["on"+e]&&(M.params["on"+e]=null)};var B=[];for(var F in M.plugins)if(t[F]){var H=M.plugins[F](M,t[F]);H&&B.push(H)}M.callPlugins=function(e,t){t||(t={});for(var n=0;n<B.length;n++)e in B[n]&&B[n][e](t)},!M.browser.ie10&&!M.browser.ie11||t.onlyExternal||M.wrapper.classList.add("swiper-wp8-"+(O?"horizontal":"vertical")),t.freeMode&&(M.container.className+=" swiper-free-mode"),M.initialized=!1,M.init=function(e,n){var o=M.h.getWidth(M.container,!1,t.roundLengths),i=M.h.getHeight(M.container,!1,t.roundLengths);if(o!==M.width||i!==M.height||e){M.width=o,M.height=i;var a,r,s,l,c,d,u;_=O?o:i;var p=M.wrapper;if(e&&M.calcSlides(n),"auto"===t.slidesPerView){var h=0,f=0;t.slidesOffset>0&&(p.style.paddingLeft="",p.style.paddingRight="",p.style.paddingTop="",p.style.paddingBottom=""),p.style.width="",p.style.height="",t.offsetPxBefore>0&&(O?M.wrapperLeft=t.offsetPxBefore:M.wrapperTop=t.offsetPxBefore),t.offsetPxAfter>0&&(O?M.wrapperRight=t.offsetPxAfter:M.wrapperBottom=t.offsetPxAfter),t.centeredSlides&&(O?(M.wrapperLeft=(_-this.slides[0].getWidth(!0,t.roundLengths))/2,M.wrapperRight=(_-M.slides[M.slides.length-1].getWidth(!0,t.roundLengths))/2):(M.wrapperTop=(_-M.slides[0].getHeight(!0,t.roundLengths))/2,M.wrapperBottom=(_-M.slides[M.slides.length-1].getHeight(!0,t.roundLengths))/2)),O?(M.wrapperLeft>=0&&(p.style.paddingLeft=M.wrapperLeft+"px"),M.wrapperRight>=0&&(p.style.paddingRight=M.wrapperRight+"px")):(M.wrapperTop>=0&&(p.style.paddingTop=M.wrapperTop+"px"),M.wrapperBottom>=0&&(p.style.paddingBottom=M.wrapperBottom+"px")),d=0;var g=0;for(M.snapGrid=[],M.slidesGrid=[],s=0,u=0;u<M.slides.length;u++){a=M.slides[u].getWidth(!0,t.roundLengths),
r=M.slides[u].getHeight(!0,t.roundLengths),t.calculateHeight&&(s=Math.max(s,r));var m=O?a:r;if(t.centeredSlides){var v=u===M.slides.length-1?0:M.slides[u+1].getWidth(!0,t.roundLengths),b=u===M.slides.length-1?0:M.slides[u+1].getHeight(!0,t.roundLengths),w=O?v:b;if(m>_){if(t.slidesPerViewFit)M.snapGrid.push(d+M.wrapperLeft),M.snapGrid.push(d+m-_+M.wrapperLeft);else for(var y=0;y<=Math.floor(m/(_+M.wrapperLeft));y++)M.snapGrid.push(0===y?d+M.wrapperLeft:d+M.wrapperLeft+_*y);M.slidesGrid.push(d+M.wrapperLeft)}else M.snapGrid.push(g),M.slidesGrid.push(g);g+=m/2+w/2}else{if(m>_)if(t.slidesPerViewFit)M.snapGrid.push(d),M.snapGrid.push(d+m-_);else if(0!==_)for(var $=0;$<=Math.floor(m/_);$++)M.snapGrid.push(d+_*$);else M.snapGrid.push(d);else M.snapGrid.push(d);M.slidesGrid.push(d)}d+=m,h+=a,f+=r}t.calculateHeight&&(M.height=s),O?(L=h+M.wrapperRight+M.wrapperLeft,p.style.width=h+"px",p.style.height=M.height+"px"):(L=f+M.wrapperTop+M.wrapperBottom,p.style.width=M.width+"px",p.style.height=f+"px")}else if(t.scrollContainer)p.style.width="",p.style.height="",l=M.slides[0].getWidth(!0,t.roundLengths),c=M.slides[0].getHeight(!0,t.roundLengths),L=O?l:c,p.style.width=l+"px",p.style.height=c+"px",P=O?l:c;else{if(t.calculateHeight){for(s=0,c=0,O||(M.container.style.height=""),p.style.height="",u=0;u<M.slides.length;u++)M.slides[u].style.height="",s=Math.max(M.slides[u].getHeight(!0),s),O||(c+=M.slides[u].getHeight(!0));r=s,M.height=r,O?c=r:(_=r,M.container.style.height=_+"px")}else r=O?M.height:M.height/t.slidesPerView,t.roundLengths&&(r=Math.ceil(r)),c=O?M.height:M.slides.length*r;for(a=O?M.width/t.slidesPerView:M.width,t.roundLengths&&(a=Math.ceil(a)),l=O?M.slides.length*a:M.width,P=O?a:r,t.offsetSlidesBefore>0&&(O?M.wrapperLeft=P*t.offsetSlidesBefore:M.wrapperTop=P*t.offsetSlidesBefore),t.offsetSlidesAfter>0&&(O?M.wrapperRight=P*t.offsetSlidesAfter:M.wrapperBottom=P*t.offsetSlidesAfter),t.offsetPxBefore>0&&(O?M.wrapperLeft=t.offsetPxBefore:M.wrapperTop=t.offsetPxBefore),t.offsetPxAfter>0&&(O?M.wrapperRight=t.offsetPxAfter:M.wrapperBottom=t.offsetPxAfter),t.centeredSlides&&(O?(M.wrapperLeft=(_-P)/2,M.wrapperRight=(_-P)/2):(M.wrapperTop=(_-P)/2,M.wrapperBottom=(_-P)/2)),O?(M.wrapperLeft>0&&(p.style.paddingLeft=M.wrapperLeft+"px"),M.wrapperRight>0&&(p.style.paddingRight=M.wrapperRight+"px")):(M.wrapperTop>0&&(p.style.paddingTop=M.wrapperTop+"px"),M.wrapperBottom>0&&(p.style.paddingBottom=M.wrapperBottom+"px")),L=O?l+M.wrapperRight+M.wrapperLeft:c+M.wrapperTop+M.wrapperBottom,parseFloat(l)>0&&(!t.cssWidthAndHeight||"height"===t.cssWidthAndHeight)&&(p.style.width=l+"px"),parseFloat(c)>0&&(!t.cssWidthAndHeight||"width"===t.cssWidthAndHeight)&&(p.style.height=c+"px"),d=0,M.snapGrid=[],M.slidesGrid=[],u=0;u<M.slides.length;u++)M.snapGrid.push(d),M.slidesGrid.push(d),d+=P,parseFloat(a)>0&&(!t.cssWidthAndHeight||"height"===t.cssWidthAndHeight)&&(M.slides[u].style.width=a+"px"),parseFloat(r)>0&&(!t.cssWidthAndHeight||"width"===t.cssWidthAndHeight)&&(M.slides[u].style.height=r+"px")}M.initialized?(M.callPlugins("onInit"),t.onInit&&M.fireCallback(t.onInit,M)):(M.callPlugins("onFirstInit"),t.onFirstInit&&M.fireCallback(t.onFirstInit,M)),M.initialized=!0}},M.reInit=function(e){M.init(!0,e)},M.resizeFix=function(e){M.callPlugins("beforeResizeFix"),M.init(t.resizeReInit||e),t.freeMode?M.getWrapperTranslate()<-i()&&(M.setWrapperTransition(0),M.setWrapperTranslate(-i())):(M.swipeTo(t.loop?M.activeLoopIndex:M.activeIndex,0,!1),t.autoplay&&(M.support.transitions&&void 0!==K?void 0!==K&&(clearTimeout(K),K=void 0,M.startAutoplay()):void 0!==Q&&(clearInterval(Q),Q=void 0,M.startAutoplay()))),M.callPlugins("afterResizeFix")},M.destroy=function(){var e=M.h.removeEventListener,n="wrapper"===t.eventTarget?M.wrapper:M.container;M.browser.ie10||M.browser.ie11?(e(n,M.touchEvents.touchStart,g),e(document,M.touchEvents.touchMove,m),e(document,M.touchEvents.touchEnd,v)):(M.support.touch&&(e(n,"touchstart",g),e(n,"touchmove",m),e(n,"touchend",v)),t.simulateTouch&&(e(n,"mousedown",g),e(document,"mousemove",m),e(document,"mouseup",v))),t.autoResize&&e(window,"resize",M.resizeFix),s(),t.paginationClickable&&S(),t.mousewheelControl&&M._wheelEvent&&e(M.container,M._wheelEvent,c),t.keyboardControl&&e(document,"keydown",l),t.autoplay&&M.stopAutoplay(),M.callPlugins("onDestroy"),M=null},M.disableKeyboardControl=function(){t.keyboardControl=!1,M.h.removeEventListener(document,"keydown",l)},M.enableKeyboardControl=function(){t.keyboardControl=!0,M.h.addEventListener(document,"keydown",l)};var G=(new Date).getTime();if(M.disableMousewheelControl=function(){return!!M._wheelEvent&&(t.mousewheelControl=!1,M.h.removeEventListener(M.container,M._wheelEvent,c),!0)},M.enableMousewheelControl=function(){return!!M._wheelEvent&&(t.mousewheelControl=!0,M.h.addEventListener(M.container,M._wheelEvent,c),!0)},t.grabCursor){var U=M.container.style;U.cursor="move",U.cursor="grab",U.cursor="-moz-grab",U.cursor="-webkit-grab"}M.allowSlideClick=!0,M.allowLinks=!0;var Y,X,Z,q=!1,J=!0;M.swipeNext=function(e){!e&&t.loop&&M.fixLoop(),!e&&t.autoplay&&M.stopAutoplay(!0),M.callPlugins("onSwipeNext");var n=M.getWrapperTranslate(),o=n;if("auto"===t.slidesPerView){for(var a=0;a<M.snapGrid.length;a++)if(-n>=M.snapGrid[a]&&-n<M.snapGrid[a+1]){o=-M.snapGrid[a+1];break}}else{var r=P*t.slidesPerGroup;o=-(Math.floor(Math.abs(n)/Math.floor(r))*r+r)}return o<-i()&&(o=-i()),o!==n&&(y(o,"next"),!0)},M.swipePrev=function(e){!e&&t.loop&&M.fixLoop(),!e&&t.autoplay&&M.stopAutoplay(!0),M.callPlugins("onSwipePrev");var n,o=Math.ceil(M.getWrapperTranslate());if("auto"===t.slidesPerView){n=0;for(var i=1;i<M.snapGrid.length;i++){if(-o===M.snapGrid[i]){n=-M.snapGrid[i-1];break}if(-o>M.snapGrid[i]&&-o<M.snapGrid[i+1]){n=-M.snapGrid[i];break}}}else{var a=P*t.slidesPerGroup;n=-(Math.ceil(-o/a)-1)*a}return n>0&&(n=0),n!==o&&(y(n,"prev"),!0)},M.swipeReset=function(){M.callPlugins("onSwipeReset");var e,n=M.getWrapperTranslate(),o=P*t.slidesPerGroup;if(i(),"auto"===t.slidesPerView){e=0;for(var a=0;a<M.snapGrid.length;a++){if(-n===M.snapGrid[a])return;if(-n>=M.snapGrid[a]&&-n<M.snapGrid[a+1]){e=M.positions.diff>0?-M.snapGrid[a+1]:-M.snapGrid[a];break}}-n>=M.snapGrid[M.snapGrid.length-1]&&(e=-M.snapGrid[M.snapGrid.length-1]),n<=-i()&&(e=-i())}else e=0>n?Math.round(n/o)*o:0,n<=-i()&&(e=-i());return t.scrollContainer&&(e=0>n?n:0),e<-i()&&(e=-i()),t.scrollContainer&&_>P&&(e=0),e!==n&&(y(e,"reset"),!0)},M.swipeTo=function(e,n,o){e=parseInt(e,10),M.callPlugins("onSwipeTo",{index:e,speed:n}),t.loop&&(e+=M.loopedSlides);var a=M.getWrapperTranslate();if(!(e>M.slides.length-1||0>e)){var r;return r="auto"===t.slidesPerView?-M.slidesGrid[e]:-e*P,r<-i()&&(r=-i()),r!==a&&(o=!1!==o,y(r,"to",{index:e,speed:n,runCallbacks:o}),!0)}},M._queueStartCallbacks=!1,M._queueEndCallbacks=!1,M.updateActiveSlide=function(e){if(M.initialized&&0!==M.slides.length){M.previousIndex=M.activeIndex,void 0===e&&(e=M.getWrapperTranslate()),e>0&&(e=0);var n;if("auto"===t.slidesPerView){if(M.activeIndex=M.slidesGrid.indexOf(-e),M.activeIndex<0){for(n=0;n<M.slidesGrid.length-1&&!(-e>M.slidesGrid[n]&&-e<M.slidesGrid[n+1]);n++);var o=Math.abs(M.slidesGrid[n]+e),i=Math.abs(M.slidesGrid[n+1]+e);M.activeIndex=i>=o?n:n+1}}else M.activeIndex=Math[t.visibilityFullFit?"ceil":"round"](-e/P);if(M.activeIndex===M.slides.length&&(M.activeIndex=M.slides.length-1),M.activeIndex<0&&(M.activeIndex=0),M.slides[M.activeIndex]){if(M.calcVisibleSlides(e),M.support.classList){var a;for(n=0;n<M.slides.length;n++)a=M.slides[n],a.classList.remove(t.slideActiveClass),M.visibleSlides.indexOf(a)>=0?a.classList.add(t.slideVisibleClass):a.classList.remove(t.slideVisibleClass);M.slides[M.activeIndex].classList.add(t.slideActiveClass)}else{var r=new RegExp("\\s*"+t.slideActiveClass),s=new RegExp("\\s*"+t.slideVisibleClass);for(n=0;n<M.slides.length;n++)M.slides[n].className=M.slides[n].className.replace(r,"").replace(s,""),M.visibleSlides.indexOf(M.slides[n])>=0&&(M.slides[n].className+=" "+t.slideVisibleClass);M.slides[M.activeIndex].className+=" "+t.slideActiveClass}if(t.loop){var l=M.loopedSlides;M.activeLoopIndex=M.activeIndex-l,M.activeLoopIndex>=M.slides.length-2*l&&(M.activeLoopIndex=M.slides.length-2*l-M.activeLoopIndex),M.activeLoopIndex<0&&(M.activeLoopIndex=M.slides.length-2*l+M.activeLoopIndex),M.activeLoopIndex<0&&(M.activeLoopIndex=0)}else M.activeLoopIndex=M.activeIndex;t.pagination&&M.updatePagination(e)}}},M.createPagination=function(e){if(t.paginationClickable&&M.paginationButtons&&S(),M.paginationContainer=t.pagination.nodeType?t.pagination:n(t.pagination)[0],t.createPagination){var o="",i=M.slides.length,a=i;t.loop&&(a-=2*M.loopedSlides);for(var r=0;a>r;r++)o+="<"+t.paginationElement+' class="'+t.paginationElementClass+'"></'+t.paginationElement+">";M.paginationContainer.innerHTML=o}M.paginationButtons=n("."+t.paginationElementClass,M.paginationContainer),e||M.updatePagination(),M.callPlugins("onCreatePagination"),t.paginationClickable&&C()},M.updatePagination=function(e){if(t.pagination&&!(M.slides.length<1)){if(n("."+t.paginationActiveClass,M.paginationContainer)){var o=M.paginationButtons;if(0!==o.length){for(var i=0;i<o.length;i++)o[i].className=t.paginationElementClass;var a=t.loop?M.loopedSlides:0;if(t.paginationAsRange){M.visibleSlides||M.calcVisibleSlides(e);var r,s=[];for(r=0;r<M.visibleSlides.length;r++){var l=M.slides.indexOf(M.visibleSlides[r])-a;t.loop&&0>l&&(l=M.slides.length-2*M.loopedSlides+l),t.loop&&l>=M.slides.length-2*M.loopedSlides&&(l=M.slides.length-2*M.loopedSlides-l,l=Math.abs(l)),s.push(l)}for(r=0;r<s.length;r++)o[s[r]]&&(o[s[r]].className+=" "+t.paginationVisibleClass);t.loop?void 0!==o[M.activeLoopIndex]&&(o[M.activeLoopIndex].className+=" "+t.paginationActiveClass):o[M.activeIndex].className+=" "+t.paginationActiveClass}else t.loop?o[M.activeLoopIndex]&&(o[M.activeLoopIndex].className+=" "+t.paginationActiveClass+" "+t.paginationVisibleClass):o[M.activeIndex].className+=" "+t.paginationActiveClass+" "+t.paginationVisibleClass}}}},M.calcVisibleSlides=function(e){var n=[],o=0,i=0,a=0;O&&M.wrapperLeft>0&&(e+=M.wrapperLeft),!O&&M.wrapperTop>0&&(e+=M.wrapperTop);for(var r=0;r<M.slides.length;r++){o+=i,i="auto"===t.slidesPerView?O?M.h.getWidth(M.slides[r],!0,t.roundLengths):M.h.getHeight(M.slides[r],!0,t.roundLengths):P,a=o+i;var s=!1;t.visibilityFullFit?(o>=-e&&-e+_>=a&&(s=!0),-e>=o&&a>=-e+_&&(s=!0)):(a>-e&&-e+_>=a&&(s=!0),o>=-e&&-e+_>o&&(s=!0),-e>o&&a>-e+_&&(s=!0)),s&&n.push(M.slides[r])}0===n.length&&(n=[M.slides[M.activeIndex]]),M.visibleSlides=n};var K,Q;M.startAutoplay=function(){if(M.support.transitions){if(void 0!==K)return!1;if(!t.autoplay)return;M.callPlugins("onAutoplayStart"),t.onAutoplayStart&&M.fireCallback(t.onAutoplayStart,M),T()}else{if(void 0!==Q)return!1;if(!t.autoplay)return;M.callPlugins("onAutoplayStart"),t.onAutoplayStart&&M.fireCallback(t.onAutoplayStart,M),Q=setInterval(function(){t.loop?(M.fixLoop(),M.swipeNext(!0)):M.swipeNext(!0)||(t.autoplayStopOnLast?(clearInterval(Q),Q=void 0):M.swipeTo(0))},t.autoplay)}},M.stopAutoplay=function(e){if(M.support.transitions){if(!K)return;K&&clearTimeout(K),K=void 0,e&&!t.autoplayDisableOnInteraction&&M.wrapperTransitionEnd(function(){T()}),M.callPlugins("onAutoplayStop"),t.onAutoplayStop&&M.fireCallback(t.onAutoplayStop,M)}else Q&&clearInterval(Q),Q=void 0,M.callPlugins("onAutoplayStop"),t.onAutoplayStop&&M.fireCallback(t.onAutoplayStop,M)},M.loopCreated=!1,M.removeLoopedSlides=function(){if(M.loopCreated)for(var e=0;e<M.slides.length;e++)!0===M.slides[e].getData("looped")&&M.wrapper.removeChild(M.slides[e])},M.createLoop=function(){if(0!==M.slides.length){M.loopedSlides="auto"===t.slidesPerView?t.loopedSlides||1:t.slidesPerView+t.loopAdditionalSlides,M.loopedSlides>M.slides.length&&(M.loopedSlides=M.slides.length);var e,n="",o="",i="",a=M.slides.length,r=Math.floor(M.loopedSlides/a),s=M.loopedSlides%a;for(e=0;r*a>e;e++){var l=e;if(e>=a){l=e-a*Math.floor(e/a)}i+=M.slides[l].outerHTML}for(e=0;s>e;e++)o+=w(t.slideDuplicateClass,M.slides[e].outerHTML);for(e=a-s;a>e;e++)n+=w(t.slideDuplicateClass,M.slides[e].outerHTML);var c=n+i+R.innerHTML+i+o;for(R.innerHTML=c,M.loopCreated=!0,M.calcSlides(),e=0;e<M.slides.length;e++)(e<M.loopedSlides||e>=M.slides.length-M.loopedSlides)&&M.slides[e].setData("looped",!0);M.callPlugins("onCreateLoop")}},M.fixLoop=function(){var e;M.activeIndex<M.loopedSlides?(e=M.slides.length-3*M.loopedSlides+M.activeIndex,M.swipeTo(e,0,!1)):("auto"===t.slidesPerView&&M.activeIndex>=2*M.loopedSlides||M.activeIndex>M.slides.length-2*t.slidesPerView)&&(e=-M.slides.length+M.activeIndex+M.loopedSlides,M.swipeTo(e,0,!1))},M.loadSlides=function(){var e="";M.activeLoaderIndex=0;for(var n=t.loader.slides,o=t.loader.loadAllSlides?n.length:t.slidesPerView*(1+t.loader.surroundGroups),i=0;o>i;i++)e+="outer"===t.loader.slidesHTMLType?n[i]:"<"+t.slideElement+' class="'+t.slideClass+'" data-swiperindex="'+i+'">'+n[i]+"</"+t.slideElement+">";M.wrapper.innerHTML=e,M.calcSlides(!0),t.loader.loadAllSlides||M.wrapperTransitionEnd(M.reloadSlides,!0)},M.reloadSlides=function(){var e=t.loader.slides,n=parseInt(M.activeSlide().data("swiperindex"),10);if(!(0>n||n>e.length-1)){M.activeLoaderIndex=n;var o=Math.max(0,n-t.slidesPerView*t.loader.surroundGroups),i=Math.min(n+t.slidesPerView*(1+t.loader.surroundGroups)-1,e.length-1);if(n>0){var a=-P*(n-o);M.setWrapperTranslate(a),M.setWrapperTransition(0)}var r;if("reload"===t.loader.logic){M.wrapper.innerHTML="";var s="";for(r=o;i>=r;r++)s+="outer"===t.loader.slidesHTMLType?e[r]:"<"+t.slideElement+' class="'+t.slideClass+'" data-swiperindex="'+r+'">'+e[r]+"</"+t.slideElement+">";M.wrapper.innerHTML=s}else{var l=1e3,c=0;for(r=0;r<M.slides.length;r++){var d=M.slides[r].data("swiperindex");o>d||d>i?M.wrapper.removeChild(M.slides[r]):(l=Math.min(d,l),c=Math.max(d,c))}for(r=o;i>=r;r++){var u;l>r&&(u=document.createElement(t.slideElement),u.className=t.slideClass,u.setAttribute("data-swiperindex",r),u.innerHTML=e[r],M.wrapper.insertBefore(u,M.wrapper.firstChild)),r>c&&(u=document.createElement(t.slideElement),u.className=t.slideClass,u.setAttribute("data-swiperindex",r),u.innerHTML=e[r],M.wrapper.appendChild(u))}}M.reInit(!0)}},function(){M.calcSlides(),t.loader.slides.length>0&&0===M.slides.length&&M.loadSlides(),t.loop&&M.createLoop(),M.init(),a(),t.pagination&&M.createPagination(!0),t.loop||t.initialSlide>0?M.swipeTo(t.initialSlide,0,!1):M.updateActiveSlide(0),t.autoplay&&M.startAutoplay(),M.centerIndex=M.activeIndex,t.onSwiperCreated&&M.fireCallback(t.onSwiperCreated,M),M.callPlugins("onSwiperCreated")}()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(e,t){"use strict";function n(s){if(s.target===a&&(e(i),i.params.queueEndCallbacks&&(i._queueEndCallbacks=!1),!t))for(o=0;o<r.length;o++)i.h.removeEventListener(a,r[o],n)}var o,i=this,a=i.wrapper,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(e)for(o=0;o<r.length;o++)i.h.addEventListener(a,r[o],n)},getWrapperTranslate:function(e){"use strict";var t,n,o,i,a=this.wrapper;return void 0===e&&(e="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(o=window.getComputedStyle(a,null),window.WebKitCSSMatrix?i=new WebKitCSSMatrix("none"===o.webkitTransform?"":o.webkitTransform):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=i.toString().split(",")),"x"===e&&(n=window.WebKitCSSMatrix?i.m41:parseFloat(16===t.length?t[12]:t[4])),"y"===e&&(n=window.WebKitCSSMatrix?i.m42:parseFloat(16===t.length?t[13]:t[5]))):("x"===e&&(n=parseFloat(a.style.left,10)||0),"y"===e&&(n=parseFloat(a.style.top,10)||0)),n||0},setWrapperTranslate:function(e,t,n){"use strict";var o,i=this.wrapper.style,a={x:0,y:0,z:0};3===arguments.length?(a.x=e,a.y=t,a.z=n):(void 0===t&&(t="horizontal"===this.params.mode?"x":"y"),a[t]=e),this.support.transforms&&this.params.useCSS3Transforms?(o=this.support.transforms3d?"translate3d("+a.x+"px, "+a.y+"px, "+a.z+"px)":"translate("+a.x+"px, "+a.y+"px)",i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=o):(i.left=a.x+"px",i.top=a.y+"px"),this.callPlugins("onSetWrapperTransform",a),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,a)},setWrapperTransition:function(e){"use strict";var t=this.wrapper.style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:e}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,e)},h:{getWidth:function(e,t,n){"use strict";var o=window.getComputedStyle(e,null).getPropertyValue("width"),i=parseFloat(o);return(isNaN(i)||o.indexOf("%")>0||0>i)&&(i=e.offsetWidth-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))),t&&(i+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))),n?Math.ceil(i):i},getHeight:function(e,t,n){"use strict";if(t)return e.offsetHeight;var o=window.getComputedStyle(e,null).getPropertyValue("height"),i=parseFloat(o);return(isNaN(i)||o.indexOf("%")>0||0>i)&&(i=e.offsetHeight-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))),t&&(i+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))),n?Math.ceil(i):i},getOffset:function(e){"use strict";var t=e.getBoundingClientRect(),n=document.body,o=e.clientTop||n.clientTop||0,i=e.clientLeft||n.clientLeft||0,a=window.pageYOffset||e.scrollTop,r=window.pageXOffset||e.scrollLeft;return document.documentElement&&!window.pageYOffset&&(a=document.documentElement.scrollTop,r=document.documentElement.scrollLeft),{top:t.top+a-o,left:t.left+r-i}},windowWidth:function(){"use strict";return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){"use strict";return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){"use strict";return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(e,t,n,o){"use strict";void 0===o&&(o=!1),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n,o){"use strict";void 0===o&&(o=!1),e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n)}},setTransform:function(e,t){"use strict";var n=e.style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t},setTranslate:function(e,t){"use strict";var n=e.style,o={x:t.x||0,y:t.y||0,z:t.z||0},i=this.support.transforms3d?"translate3d("+o.x+"px,"+o.y+"px,"+o.z+"px)":"translate("+o.x+"px,"+o.y+"px)";n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=i,this.support.transforms||(n.left=o.x+"px",n.top=o.y+"px")},setTransition:function(e,t){"use strict";var n=e.style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms"},support:{touch:window.Modernizr&&!0===Modernizr.touch||function(){"use strict";return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){"use strict";var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),transforms:window.Modernizr&&!0===Modernizr.csstransforms||function(){"use strict";var e=document.createElement("div").style;return"transform"in e||"WebkitTransform"in e||"MozTransform"in e||"msTransform"in e||"MsTransform"in e||"OTransform"in e}(),transitions:window.Modernizr&&!0===Modernizr.csstransitions||function(){"use strict";var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"MsTransition"in e||"OTransition"in e}(),classList:function(){"use strict";return"classList"in document.createElement("div")}()},browser:{ie8:function(){"use strict";var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!==new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(t)&&(e=parseFloat(RegExp.$1))}return-1!==e&&9>e}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&function(e){"use strict";e.fn.swiper=function(t){var n;return this.each(function(o){var i=e(this);if(!i.data("swiper")){var a=new Swiper(i[0],t);o||(n=a),i.data("swiper",a)}}),n}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper});var schedulingForm=function(e){var t=[];return $(".filelist li").each(function(){t.push($(this).find(".thename").text())}),console.log(e.field),e.field.direct="false"!==e.field.direct,e.field.peopleAffect=$(".j-peopleAffect").text(),e.field.startTime=e.field.time.split(" - ")[0],e.field.endTime=e.field.time.split(" - ")[1],e.field.area=$(".j-coverArea").text(),e.field.department=$(".j-department").text(),e.field.dutyPerson=$(".j-dutyPerson").text(),e.field.listMP3=t,e.field.allArea=render(null==$.fn.zTree.getZTreeObj("gb_tree_area")?[]:$.fn.zTree.getZTreeObj("gb_tree_area").getNodes()),e.field.coverArea=render(null==$.fn.zTree.getZTreeObj("gb_tree_areaSel")?[]:$.fn.zTree.getZTreeObj("gb_tree_areaSel").getNodes()),e.field.allSystemResource=render(null==$.fn.zTree.getZTreeObj("gb_tree_resource")?[]:$.fn.zTree.getZTreeObj("gb_tree_resource").getNodes()),e.field.systemResource=render(null==$.fn.zTree.getZTreeObj("gb_tree_resourceSel")?[]:$.fn.zTree.getZTreeObj("gb_tree_resourceSel").getNodes()),delete e.field.time,e},warnMsgForm=function(e){var t=[];return $(".filelist li").each(function(){t.push($(this).find(".thename").text())}),e.field.listMP3=t,e.field.department=$(".j-department").text(),e.field.dutyPerson=$(".j-dutyPerson").text(),e};$(document).ready(function(){if(0!=$(".gb-sign").length){var e=document.getElementById("tx"),t=document.getElementById("pwd");e.onfocus=function(){"密码"==this.value&&(this.style.display="none",t.style.display="",t.value="",t.focus())},t.onblur=function(){""!=this.value?t.style.borderColor="#d8d8d8":(this.style.display="none",e.style.display="",e.value="密码")}}$(window).width()>1400?($(".logcent").css({width:"1320px"}),$(".titbg").css({height:"336px","margin-top":"-168px"}),$(".logtit").css({width:"auto","margin-top":"-43px"}),$(".logframe").css({width:"540px",height:"590px","margin-top":"-295px"}),$(".fratop").css({height:"122px"}),$(".fratit").css({width:"160px",height:"53px","font-size":"24px","line-height":"60px","margin-left":"-80px"}),$(".fracent").css({height:"468px",padding:"70px 104px 60px 104px"}),$(".fracode").css({width:"200px"}),$(".codeimg").css({width:"120px"}),$(".forget").css({bottom:"60px"})):($(".logcent").css({width:"960px"}),$(".titbg").css({height:"260px","margin-top":"-130px"}),$(".logtit").css({width:"400px","margin-top":"-31px"}),$(".logframe").css({width:"440px",height:"520px","margin-top":"-260px"}),$(".fratop").css({height:"110px"}),$(".fratit").css({width:"120px",height:"43px","font-size":"20px","line-height":"50px","margin-left":"-60px"}),$(".fracent").css({height:"410px",padding:"50px 60px 40px 60px"}),$(".fracode").css({width:"190px"}),$(".codeimg").css({width:"110px"}),$(".forget").css({bottom:"40px"})),$(window).resize(function(){$(window).width()>1400?($(".logcent").css({width:"1320px"}),$(".titbg").css({height:"336px","margin-top":"-168px"}),$(".logtit").css({width:"auto","margin-top":"-43px"}),$(".logframe").css({width:"540px",height:"590px","margin-top":"-295px"}),$(".fratop").css({height:"122px"}),$(".fratit").css({width:"160px",height:"53px","font-size":"24px","line-height":"60px","margin-left":"-80px"}),$(".fracent").css({height:"468px",padding:"70px 104px 60px 104px"}),$(".fracode").css({width:"200px"}),$(".codeimg").css({width:"120px"}),$(".forget").css({bottom:"60px"})):($(".logcent").css({width:"960px"}),$(".titbg").css({height:"260px","margin-top":"-130px"}),$(".logtit").css({width:"400px","margin-top":"-31px"}),$(".logframe").css({width:"440px",height:"520px","margin-top":"-260px"}),$(".fratop").css({height:"110px"}),$(".fratit").css({width:"120px",height:"43px","font-size":"20px","line-height":"50px","margin-left":"-60px"}),$(".fracent").css({height:"410px",padding:"50px 60px 40px 60px"}),$(".fracode").css({width:"190px"}),$(".codeimg").css({width:"110px"}),$(".forget").css({bottom:"40px"}))})}),$(document).ready(function(){$(".gb-packUp-leftNav").click(function(){var e=$(this);$(".gb-wrap").toggleClass("gb-packUp"),e.find("i").hasClass("icon-packUp-left")?(e.find("i").removeClass("icon-packUp-left").addClass("icon-packUp-right"),e.find("span").html("展开导航栏")):(e.find("i").removeClass("icon-packUp-right").addClass("icon-packUp-left"),e.find("span").html("收起导航栏"))}),$(".gb-left-nav").on("click",".nav-tit",function(){var e=$(this).parents("li");e.find(".left-sub-nav").slideToggle(),e.siblings("li").find(".left-sub-nav").slideUp(),e.addClass("cur").siblings("li").removeClass("cur"),e.siblings("li").find(".arrow").removeClass("icon-arrow-bottom").addClass("icon-arrow-right"),e.find(".arrow").hasClass("icon-arrow-right")?e.find(".arrow").removeClass("icon-arrow-right").addClass("icon-arrow-bottom"):e.find(".arrow").removeClass("icon-arrow-bottom").addClass("icon-arrow-right")}),$(".gb-left-nav").on("click",".left-sub-nav a",function(){$(this).addClass("cur").siblings("a").removeClass("cur"),$(this).parents("li").siblings("li").find("a").removeClass("cur")})}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,o=function(){},i=function(){return n.apply(this instanceof o&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,i.prototype=new o,i}),$("body").on("click",".add_tab",function(){sessionStorage.setItem("tab_default_name",$(this).attr("name")),sessionStorage.setItem("tab_default_url",$(this).attr("url")),add_tab($(this).attr("name"),$(this).attr("url"))}),drawBoundary=function(e){var t=[],n={lat:59,lng:73},o={lat:59,lng:136},i={lat:3,lng:136},a={lat:3,lng:73},r=[];r.push(n),r.push(a),r.push(i),r.push(o),r.push(n);for(var s=0;s<blist.length;s++){var l=new BMap.Label(blist[s].name,{offset:new BMap.Size(20,-10)});l.hide(),e.addOverlay(l);var c=new BMap.Polygon(blist[s].points,{strokeWeight:3,strokeColor:"#41beee",fillOpacity:void 0==blist[s].covering?.01:.5,fillColor:void 0==blist[s].covering?" #000":blist[s].covering});c.name=blist[s].name,c.label=l,"#ff5b57"==blist[s].covering?c.covering="未覆盖":"#14ae8f"==blist[s].covering?c.covering="已覆盖":"#fada00"==blist[s].covering&&(c.covering="未完全覆盖"),e.addOverlay(c);var d=new BMap.Label(blist[s].name,{offset:new BMap.Size(0,0)});d.setPosition(c.getBounds().getCenter()),e.addOverlay(d);var u=c.getPath();t=t.concat(u),r=r.concat(u),r.push(r[0])}var p=new BMap.Polygon(r,{strokeOpacity:1e-7,strokeColor:"#000000",strokeWeight:1e-5,fillColor:"#000000",fillOpacity:.4});e.addOverlay(p)},$("body").on("click",".j-zoom-province",function(){$(".gb-all-incident").hasClass("cur")?allbmap.setZoom(8):unitybmap.setZoom(8)}),$("body").on("click",".j-zoom-city",function(){$(".gb-all-incident").hasClass("cur")?allbmap.setZoom(10):unitybmap.setZoom(10)}),$("body").on("click",".j-zoom-county",function(){$(".gb-all-incident").hasClass("cur")?allbmap.setZoom(12):unitybmap.setZoom(12)}),$("body").on("click",".gb-map-zoom span",function(){$(this).addClass("cur").siblings("span").removeClass("cur")}),$("body").on("click",".j-legend-succeed",function(){legendCover("已覆盖",$(this))}),$("body").on("click",".j-legend-process",function(){legendCover("未完全覆盖",$(this))}),$("body").on("click",".j-legend-failure",function(){legendCover("未覆盖",$(this))}),$("body").on("click",".gb-map-legend span",function(){$(this).toggleClass("cur")}),$("body").on("click",".j-table-chart-tab em",function(e){$(this).addClass("cur").siblings("em").removeClass("cur"),$(this).hasClass("chart")?$(this).parents(".gb-charts-table").find(".gb-chart-incident").show().siblings("div").hide():$(this).parents(".gb-charts-table").find(".gb-ctab").show().siblings("div").hide()}),$(document).on("keyup","#impcontent",function(){$(".oneimp-count .countnew").html($("#impcontent").val().length)}),$(document).on("keyup","#imparea",function(){$(".area-count .countnew").html($("#imparea").val().length)}),$(function(){$(document).on("click",".filedel-btn",function(e){fileShow(),$(this).parents("li").addClass("todel"),$(document).one("click",function(){$(".choose").hide(),$(".filelist li").removeClass("todel")}),e.stopPropagation()}),$(".choose").click(function(e){e.stopPropagation()})}),$(document).on("click",".cho-delete",function(){$(".choose").hide(),$(".filelist li.todel").remove()}),$(document).on("click",".cho-cancel",function(){$(".choose").hide(),$(".filelist li").removeClass("todel")}),$(".gb-main-item").scroll(function(){$(".choose").is(":visible")&&($(".choose").hide(),$(".filelist li").removeClass("todel"))}),$(document).on("click",".toswitch",function(){"请输入消息文本"!=$("#imparea").val()?$.ajax({url:portsrc+"/convertText",type:"get",dataType:"json",data:{token:token,text:$("#imparea").val()},success:function(e){if(0==$("li.msg_audio").length){var t=document.createElement("li");t.classList.add("msg_audio"),t.style.color="#5fb878",t.innerHTML='<div class="filename"><i class="iconfont icon-1"></i><span class="thename">'+e.body+'</span></div><div class="filebtn">\t<input type="button" value="删除" class="filedel-btn"/></div>',$(".filelist").append(t)}layer.open({title:"提示",shadeClose:!0,content:"成功转换为："+e.body})},error:function(){alert("请求出错")}}):layer.open({title:"提示",shadeClose:!0,content:"请输入消息文本"})}),layui.use(["element"],function(){var e,t=layui.element,n=0,o="layui-btn-disabled",i={loading:function(i,a,r){e=setInterval(function(){if((n=n+10*Math.random()|0)>100){n=0,clearInterval(e),i.removeClass(o),$(".uncont .tomat").hide(),$(".uncont .succmat").show();var a=r.split(".")[0]+".wav";audio_add_html(a),$(".file_text").after($(".file_text").clone().val("")),$(".file_text").eq(0).remove()}t.progress("demo",n+"%")},0==a?2e3+2e3*Math.random():a)}};$("body").on("click",".site-demo-active",function(){if(void 0!=$(".file_text")[0].files[0]){var t=new FormData,n=$(this),a=n.data("type");if(n.hasClass(o))return!1;n.addClass(o),t.append("file",$(".file_text")[0].files[0]),$.ajax({url:portsrc+"/convertFile",type:"post",cache:!1,data:t,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){$(".uncont .tomat").show(),$(".uncont .succmat").hide(),i[a]&&i[a].call(this,n,0)},success:function(t){console.log(t),clearInterval(e),i[a]&&i[a].call(this,n,70,$(".file_text")[0].files[0].name)}})}else layer.open({title:"提示",content:"请先上传一个文本"})})});var audio_add_html=function(e){var t=document.createElement("li");t.innerHTML='<div class="filename"><i class="iconfont icon-1"></i><span class="thename">'+e+'</span></div><div class="filebtn">\t<input type="button" value="删除" class="filedel-btn"/></div>',
$(".filelist").append(t)};$(document).on("click",".filepre-btn",function(){$(".popwindow").show(),$(".unword").html($(this).parents("li").find(".thename").html()),$(".unreason").show()}),$(document).on("click",".fileconv-btn,.filetit-one",function(){$(".popwindow").show(),$(".toshift").show(),$(".matlist li ").eq(0).find("input").prop("checked",!0)}),$(document).on("click",".toemptybtn",function(){$(".imptxt").val(""),$(".imparea").val("请输入消息文本"),$(".imparea").css("color","#ccc"),$(".countnew").html("0"),$(".filelist").remove(),$(".gb-form .layui-form-select .layui-input").val(""),$(".layui-anim-upbit dd").removeClass("layui-this"),$(".prtop .msgrank li input").prop("checked",!1),$(".gb-form .layui-input-inline .layui-input").val(""),$(".layui-laydate-content td").removeClass("layui-this laydate-selected laydate-day-next"),$(".layui-laydate-content ol li").removeClass("layui-this"),$(".layui-laydate-content ol li:first-child").addClass("layui-this"),$(".datecho .repcho").html("每天"),$(".weekcho .repcho").html("每周"),$(".weeklist li").removeClass("weekact"),$(".daytime .layui-input-inline").removeClass("layshow"),$(".daytime .layui-input-inline").eq(0).addClass("layshow")}),$(document).on("click",".toedit",function(){$(this).hasClass("disable-edit")?($(this).removeClass("disable-edit"),$(this).html('<i class="iconfont icon-bianji"></i>编辑'),$("#tosave").hide(),$(".settingone .tnoneimp input").attr("readonly",!0),$(".settingone .tnoneimp input").css("color","#d8d8d8")):($(this).addClass("disable-edit"),$(this).html('<i class="iconfont icon-baocun"></i>保存'),$("#tosave").show(),$(".settingone .tnoneimp input").attr("readonly",!1),$(".settingone .tnoneimp input").css("color","#333"))}),$(document).on("click",".tocreatbtn",function(){$(".toedit").removeClass("disable-edit"),$(".toedit").html('<i class="iconfont icon-bianji"></i>编辑'),$("#tosave").hide(),$(".settingone .tnoneimp input").attr("readonly",!0),$(".settingone .tnoneimp input").css("color","#d8d8d8")}),Router.prototype.route=function(e,t){this.routes[e]=t||function(){}},Router.prototype.refresh=function(){this.currentUrl=location.hash.slice(1)||"/",void 0!=this.routes[this.currentUrl]&&this.routes[this.currentUrl]()},Router.prototype.init=function(){$(window).bind("load",this.refresh.bind(this)),$(window).bind("hashchange",this.refresh.bind(this))},window.Router=new Router,window.Router.init(),Router.route("/personalSetting",function(){gbMainContent("components/personalSetting.html",RoundaboutSet)}),Router.route("/recordOfSuccession",function(){gbMainContent("components/recordOfSuccession.html",RoundaboutSet)}),Router.route("/newHandoverRecord",function(){gbMainContent("components/newHandoverRecord.html",RoundaboutSet)}),Router.route("/editHandoverRecord",function(){gbMainContent("components/editHandoverRecord.html",RoundaboutSet)}),Router.route("/viewHandoverRecord",function(){gbMainContent("components/viewHandoverRecord.html",RoundaboutSet)}),Router.route("/index",function(){gbMainContent("components/index.html",RoundaboutSet)}),Router.route("/monitoring",function(){gbMainContent("components/monitoring.html",RoundaboutSet)}),Router.route("/manoeuvre",function(){gbMainContent("components/manoeuvre.html",RoundaboutSet)}),Router.route("/exercisePlan",function(){gbMainContent("components/exercisePlan.html",RoundaboutSet)}),Router.route("/newManualExerProg",function(){gbMainContent("components/newManualExerProg.html",RoundaboutSet)}),Router.route("/editManualExerProg",function(){gbMainContent("components/editManualExerProg.html",RoundaboutSet)}),Router.route("/viewManualExerProg",function(){gbMainContent("components/viewManualExerProg.html",RoundaboutSet)}),Router.route("/newCyclePlan",function(){gbMainContent("components/newCyclePlan.html",RoundaboutSet)}),Router.route("/editCyclePlan",function(){gbMainContent("components/editCyclePlan.html",RoundaboutSet)}),Router.route("/viewCyclePlan",function(){gbMainContent("components/viewCyclePlan.html",RoundaboutSet)}),Router.route("/planReleasePolicy",function(){gbMainContent("components/planReleasePolicy.html",RoundaboutSet)}),Router.route("/schedulingPlan",function(){gbMainContent("components/schedulingPlan.html",RoundaboutSet)}),Router.route("/newSchedulingPlan",function(){gbMainContent("components/newSchedulingPlan.html",RoundaboutSet)}),Router.route("/editSchedulingPlan",function(){gbMainContent("components/editSchedulingPlan.html",RoundaboutSet)}),Router.route("/viewSchedulingPlan",function(){gbMainContent("components/viewSchedulingPlan.html",RoundaboutSet)}),Router.route("/taskMsg",function(){gbMainContent("components/taskMsg.html",RoundaboutSet)}),Router.route("/newTaskMsg",function(){gbMainContent("components/newTaskMsg.html",RoundaboutSet)}),Router.route("/newTaskMsgEdit",function(){gbMainContent("components/newTaskMsgEdit.html",RoundaboutSet)}),Router.route("/newTaskMsgShift",function(){gbMainContent("components/newTaskMsgShift.html",RoundaboutSet)}),Router.route("/viewTaskMsg",function(){gbMainContent("components/viewTaskMsg.html",RoundaboutSet)}),Router.route("/releasePolicy",function(){gbMainContent("components/releasePolicy.html",RoundaboutSet)}),Router.route("/warningMessage",function(){gbMainContent("components/warningMessage.html",RoundaboutSet)}),Router.route("/newWarningMsg",function(){gbMainContent("components/newWarningMsg.html",RoundaboutSet)}),Router.route("/editWarningMsg",function(){gbMainContent("components/editWarningMsg.html",RoundaboutSet)}),Router.route("/viewWarningMsg",function(){gbMainContent("components/viewWarningMsg.html",RoundaboutSet)}),Router.route("/exportAReport",function(){gbMainContent("components/exportAReport.html",RoundaboutSet)}),Router.route("/interfaceList",function(){gbMainContent("components/interfaceList.html",RoundaboutSet)}),Router.route("/newInterface",function(){gbMainContent("components/newInterface.html",RoundaboutSet)}),Router.route("/editInterface",function(){gbMainContent("components/editInterface.html",RoundaboutSet)}),Router.route("/viewInterface",function(){gbMainContent("components/viewInterface.html",RoundaboutSet)}),Router.route("/resourceInformation",function(){gbMainContent("components/resourceInformation.html",RoundaboutSet)}),Router.route("/newPlatResoInfo",function(){gbMainContent("components/newPlatResoInfo.html",RoundaboutSet)}),Router.route("/editPlatResoInfo",function(){gbMainContent("components/editPlatResoInfo.html",RoundaboutSet)}),Router.route("/viewPlatResoInfo",function(){gbMainContent("components/viewPlatResoInfo.html",RoundaboutSet)}),Router.route("/newJuniorTerminal",function(){gbMainContent("components/newJuniorTerminal.html",RoundaboutSet)}),Router.route("/editJuniorTerminal",function(){gbMainContent("components/editJuniorTerminal.html",RoundaboutSet)}),Router.route("/viewJuniorTerminal",function(){gbMainContent("components/viewJuniorTerminal.html",RoundaboutSet)}),Router.route("/newStationResoInfo",function(){gbMainContent("components/newStationResoInfo.html",RoundaboutSet)}),Router.route("/editStationResoInfo",function(){gbMainContent("components/editStationResoInfo.html",RoundaboutSet)}),Router.route("/programResources",function(){gbMainContent("components/programResources.html",RoundaboutSet)}),Router.route("/newProgResources",function(){gbMainContent("components/newProgResources.html",RoundaboutSet)}),Router.route("/viewProgResources",function(){gbMainContent("components/viewProgResources.html",RoundaboutSet)}),Router.route("/characterVoice",function(){gbMainContent("components/characterVoice.html",RoundaboutSet)}),Router.route("/uploadingCharVoice",function(){gbMainContent("components/uploadingCharVoice.html",RoundaboutSet)}),Router.route("/editCharVoice",function(){gbMainContent("components/editCharVoice.html",RoundaboutSet)}),Router.route("/viewCharVoice",function(){gbMainContent("components/viewCharVoice.html",RoundaboutSet)}),Router.route("/uploadTheCertif",function(){gbMainContent("components/uploadTheCertif.html",RoundaboutSet)}),Router.route("/myCertificates",function(){gbMainContent("components/myCertificates.html",RoundaboutSet)}),Router.route("/certInstaller",function(){gbMainContent("components/certInstaller.html",RoundaboutSet)}),Router.route("/userCertifMana",function(){gbMainContent("components/userCertifMana.html",RoundaboutSet)}),Router.route("/platformCertifMana",function(){gbMainContent("components/platformCertifMana.html",RoundaboutSet)}),Router.route("/securityServSystemConfig",function(){gbMainContent("components/securityServSystemConfig.html",RoundaboutSet)}),Router.route("/systemLoginLog",function(){gbMainContent("components/systemLoginLog.html",RoundaboutSet)}),Router.route("/userOperationLog",function(){gbMainContent("components/userOperationLog.html",RoundaboutSet)}),Router.route("/systemOperLog",function(){gbMainContent("components/systemOperLog.html",RoundaboutSet)}),Router.route("/newOperLog",function(){gbMainContent("components/newOperLog.html",RoundaboutSet)}),Router.route("/editOperLog",function(){gbMainContent("components/editOperLog.html",RoundaboutSet)}),Router.route("/viewOperLog",function(){gbMainContent("components/viewOperLog.html",RoundaboutSet)}),Router.route("/dataLinkageLog",function(){gbMainContent("components/dataLinkageLog.html",RoundaboutSet)}),Router.route("/watch",function(){gbMainContent("components/watch.html",RoundaboutSet)}),Router.route("/onDuty",function(){gbMainContent("components/onDuty.html",RoundaboutSet)}),Router.route("/roleManage",function(){gbMainContent("components/roleManage.html",RoundaboutSet)}),Router.route("/editRole",function(){gbMainContent("components/editRole.html",RoundaboutSet)}),Router.route("/addRole",function(){gbMainContent("components/addRole.html",RoundaboutSet)}),Router.route("/viewRole",function(){gbMainContent("components/viewRole.html",RoundaboutSet)}),Router.route("/userManage",function(){gbMainContent("components/userManage.html",RoundaboutSet)}),Router.route("/addUser",function(){gbMainContent("components/addUser.html",RoundaboutSet)}),Router.route("/editUser",function(){gbMainContent("components/editUser.html",RoundaboutSet)}),Router.route("/viewUser",function(){gbMainContent("components/viewUser.html",RoundaboutSet)}),jQuery.extend(jQuery.fn.dataTableExt.oSort,{"html-percent-pre":function(e){var t=$(e).attr("vel");return parseFloat(t)},"html-percent-asc":function(e,t){return e<t?-1:e>t?1:0},"html-percent-desc":function(e,t){return e<t?1:e>t?-1:0}});var oLanguage={oAria:{sSortAscending:" - click/return to sort ascending",sSortDescending:" - click/return to sort descending"},sLengthMenu:" _MENU_ 条",sZeroRecords:"对不起，查询不到任何相关数据",sEmptyTable:"未有相关数据",sLoadingRecords:"正在加载数据-请等待...",sInfo:"共 _TOTAL_ 条 ",sInfoEmpty:"当前显示0到0条，共0条记录",sInfoFiltered:"（数据库中共为 _MAX_ 条记录）",sProcessing:"正在加载数据...",sSearch:"模糊查询：",sUrl:"",oPaginate:{sPrevious:" <i class='iconfont icon-zuo'></i> ",sNext:" <i class='iconfont icon-you-copy'></i> "}};$(document).on("click",".operbtnTask",function(){$(".popwindow").show(),$(".preview").show(),sessionStorage.setItem("editTableItem",$(this).parents("tr").find(".checkone").find("input").attr("id")),$(".prevlist").html(""),$.ajax({url:portsrc+"/msg/getMsg",type:"post",dataType:"json",data:{token:token,type:"task",id:sessionStorage.getItem("editTableItem")},success:function(e){e.schedulePlanId;$.ajax({url:portsrc+"/schedule/getItem",type:"post",dataType:"json",data:{token:token,id:0},success:function(e){console.log(e);for(var t=0;t<e.body.listMP3.length;t++){var n='<li><p class="prevideo">'+e.body.listMP3[t]+'</p><button class="tosee">   <a href="#/editCyclePlan" url="components/editCyclePlan.html" class="add_tab" name="编辑周期性计划">预览</a></button>';$(".prevlist").append(n)}}})}})}),$(document).on("click",".operbtnCYCLE",function(){$(".popwindow").show(),$(".preview").show(),sessionStorage.setItem("editTableItem",$(this).parents("tr").find(".checkone").find("input").attr("id")),$(".prevlist").html(""),$.ajax({url:portsrc+"/practice/get/CyclePractice",type:"post",dataType:"json",data:{token:token,id:sessionStorage.getItem("editTableItem")},success:function(e){e.schedulePlanId;$.ajax({url:portsrc+"/schedule/getItem",type:"post",dataType:"json",data:{token:token,id:0},success:function(e){console.log(e);for(var t=0;t<e.body.listMP3.length;t++){var n='<li><p class="prevideo">'+e.body.listMP3[t]+'</p><button class="tosee">   <a href="#/editCyclePlan" url="components/editCyclePlan.html" class="add_tab" name="编辑周期性计划">预览</a></button>';$(".prevlist").append(n)}}})}})}),$(document).on("click",".operbtnMANNUAL",function(){$(".popwindow").show(),$(".preview").show(),sessionStorage.setItem("editTableItem",$(this).parents("tr").find(".checkone").find("input").attr("id")),$(".prevlist").html(""),$.ajax({url:portsrc+"/practice/get/ManualPractice",type:"post",dataType:"json",data:{token:token,id:sessionStorage.getItem("editTableItem")},success:function(e){e.schedulePlanId;$.ajax({url:portsrc+"/schedule/getItem",type:"post",dataType:"json",data:{token:token,id:0},success:function(e){console.log(e);for(var t=0;t<e.body.listMP3.length;t++){var n='<li><p class="prevideo">'+e.body.listMP3[t]+'</p><button class="tosee">   <a href="#/editManualExerProg" url="components/editManualExerProg.html" class="add_tab" name="编辑手动演练计划">预览</a></button>';$(".prevlist").append(n)}}})}})}),$(document).on("click",".audit",function(){$(".popwindow").show(),$(".review").show(),sessionStorage.setItem("auditId",$(this).parents("tr").find(".checkone").find("input").attr("id"))}),$(document).on("click",".notpass",function(){$(".popwindow").show(),$(".unreason").show()}),$(document).on("click",".popwindow",function(){$(this).hide(),$(".preview").hide(),$(".review").hide(),$(".fillin").hide(),$(".toshift").hide(),$(".unreason").hide(),$(".tolead").hide(),$(".upcert").hide(),$(".datecho").hide(),$(".weekcho").hide(),$(".yemon").hide()}),$(document).on("click",".popclose",function(){$(".popwindow").hide(),$(this).parent().hide(),$(".unreason").hide()}),$(document).on("click",".revno",function(){$(".review").hide(),$(".fillin").show()}),$(document).on("click",".rev-cancel",function(){$(".popwindow").hide(),$(this).parents(".fillin").hide(),$(this).parents(".upcert").hide()}),$(document).on("click",".revyes",function(){$(".popwindow").hide(),$(this).parents(".review").hide(),$(this).parents(".fillin").hide(),$(this).parents(".upcert").hide()}),$(document).on("click",".un-confirm",function(){$(".popwindow").hide(),$(this).parents(".unreason").hide(),$(this).parents(".datecho").hide(),$(this).parents(".weekcho").hide()}),$(function(){$(document).on("click",".isstop",function(e){showDiv(),$(".choword").html("确定停发此任务消息吗？"),$(".chopri").val("停发"),$(".chopri").removeClass("j-del-tr cho-again cho-continue").addClass("cho-stop"),$(this).parents("tr").addClass("trstop"),$(document).one("click",function(){$(".choose").hide(),$("table.dataTable tbody tr").removeClass("trstop")}),e.stopPropagation()}),$(document).on("click",".iscont",function(e){showDiv(),$(".choword").html("确定续发此任务消息吗？"),$(".chopri").val("续发"),$(".chopri").removeClass("j-del-tr cho-again cho-stop").addClass("cho-continue"),$(this).parents("tr").addClass("trcont"),$(document).one("click",function(){$(".choose").hide(),$("table.dataTable tbody tr").removeClass("trcont")}),e.stopPropagation()}),$(document).on("click",".chretry",function(e){sessionStorage.setItem("chretry",$(this).parents("tr").find(".checkone").find("input").attr("id")),showDiv(),$(".choword").html("确定重发此任务消息吗？"),$(".chopri").val("重发"),$(".chopri").removeClass("j-del-tr cho-continue cho-stop").addClass("cho-again"),$(this).parents("tr").addClass("traga"),$(document).one("click",function(){$(".choose").hide(),$("table.dataTable tbody tr").removeClass("traga")}),e.stopPropagation()}),$(document).on("click",".delete",function(e){showDiv(),$(".choword").html("确定删除此任务消息吗？"),$(".chopri").val("删除"),$(".chopri").removeClass("cho-again cho-continue cho-stop").addClass("j-del-tr"),$(this).parents("tr").addClass("selected"),e.stopPropagation()}),$(document).on("click",".logout",function(e){showDiv(),$(this).parents("tr").addClass("trlogout"),$(document).one("click",function(){$(".choose").hide(),$("table.dataTable tbody tr").removeClass("trlogout")}),e.stopPropagation()}),$(".choose").click(function(e){e.stopPropagation()})}),$(".cho-stop").click(function(){$(this).parents(".choose").hide(),$("tr").removeClass("trstop")}),$(".cho-continue").click(function(){$(this).parents(".choose").hide(),$("tr").removeClass("trcont")}),$(".cho-again").click(function(){$(this).parents(".choose").hide(),$("tr").removeClass("traga")}),$(".cho-logout").click(function(){$(this).parents(".choose").hide(),$("tr").removeClass("trlogout")}),$("body").on("click",".cho-cancel",function(){$(this).parents(".choose").hide(),$("tr").removeClass("trstop trcont traga trdel selected")}),$("body").on("click",".editbtn,.view-cont",function(){sessionStorage.setItem("editTableItem",$(this).parents("tr").find(".checkone").find("input").attr("id"))}),$(document).on("click",".catonew",function(){$(".tonewlist").is(":hidden")?($(".catonew i").removeClass("icon-arrow-bottom").addClass("icon-arrow-top"),$(".tonewlist").show()):($(".catonew i").removeClass("icon-arrow-top").addClass("icon-arrow-bottom"),$(".tonewlist").hide())}),$(function(){$(document).on("click",".view-cont",function(e){$(".viewdetail").css({height:"100%","padding-top":"130px"}),$(".detadiv").animate({"margin-right":"0"},500),$(document).one("click",function(){$(".detadiv").animate({"margin-right":"-516px"},500,function(){$(".viewdetail").css({height:"0","padding-top":"0"})})}),e.stopPropagation()}),$(".viewdetail").click(function(e){e.stopPropagation()}),$(".viewclose").click(function(){$(".detadiv").animate({"margin-right":"-516px"},500,function(){$(".viewdetail").css({height:"0","padding-top":"0"})})})}),$("body").on("click",".j-del-tr",function(){if($(this).hasClass("j-exercise")){var e=[],t=[];$("tr.selected").each(function(){"周期"==$(this).find("td").eq(3).text()?e.push($(this).find(".checkone").find("input").attr("id")):t.push($(this).find(".checkone").find("input").attr("id"))}),$.ajax({url:portVar.ajaxUrlDelete,type:"get",dataType:"json",data:{token:token,type:"cyclePractice",id:e.sort()},success:function(t){tr_del(table),e=[]}}),$.ajax({url:portVar.ajaxUrlDelete,type:"get",dataType:"json",data:{token:token,type:"manualPractice",id:t.sort()},success:function(e){tr_del(table),t=[]}})}else{var n=[];$("tr.selected").each(function(){n.push($(this).find(".checkone").find("input").attr("id"))}),console.log(n.sort()),$.ajax({url:portVar.ajaxUrlDelete,type:"get",dataType:"json",data:{token:token,id:JSON.stringify(n.sort()),type:portVar.type},success:function(e){tr_del(table),n=[]}})}}),$("body").on("click",".msgtype li",function(){$(".msgtype li").removeClass("msgact"),$(this).addClass("msgact");var e=0;"已查阅"==$(this).text()?e=0:"未查阅"==$(this).text()?e=1:"新编辑"==$(this).text()&&(e=2);var t={token:token,defaulrValue:e,type:portVar.type};table.settings()[0].ajax.data=t,table.ajax.reload()}),$("body").on("click",".j-resend-manual",function(){portVar.type="manualPractice"}),$("body").on("click",".j-resend-cycle",function(){portVar.type="cyclePractice"}),$("body").on("click",".cho-again",function(){console.log(portVar),$.ajax({url:portVar.ajaxUrlReSend,type:"get",dataType:"json",data:{token:token,id:sessionStorage.getItem("chretry"),type:portVar.type},success:function(e){layer.open({title:"提示",content:"重播成功"})}})}),$("body").on("click",".notpass",function(){$.ajax({url:portVar.ajaxUrlUnpassreason,type:"get",dataType:"json",data:{token:token,type:portVar.type,id:$(this).parents("tr").find(".checkone").find("input").attr("id")},success:function(e){$(".unword").text(e.body)}})}),$("body").on("click",".j-audit-yes",function(){$.ajax({url:portVar.ajaxUrlMessageAudit,type:"get",dataType:"json",data:{token:token,type:portVar.type,pass:!0,id:sessionStorage.getItem("auditId")},success:function(e){layer.open({title:"提示",content:"审核通过",yes:function(e,t){location.reload()}})}})}),$("body").on("click",".j-audit-no",function(){$.ajax({url:portVar.ajaxUrlMessageAudit,type:"get",dataType:"json",data:{token:token,type:portVar.type,pass:!1,id:sessionStorage.getItem("auditId"),reason:editor_a.getPlainTxt()},success:function(e){layer.open({title:"提示",content:"审核不通过",yes:function(e,t){location.reload()}})}})}),$("body").on("click",".portbtn",function(){$(this).hasClass("porclose")?($(this).html("<i class='iconfont icon-qiyong'></i>启用"),$(this).removeClass("porclose").addClass("porusing")):($(this).html("<i class='iconfont icon-guanbi2'></i>关闭"),$(this).removeClass("porusing").addClass("porclose"))}),$(document).on("click",".convert",function(){$(".popwindow").show(),$(".toshift").show(),$(".matlist li ").eq(0).find("input").prop("checked",!0)}),$("body").on("click",".resnav",function(){$(this).hasClass("navtree")?($(this).removeClass("navtree"),$(".thetab").hide(),$(".treediv").hide(),$("#table-main").show()):($(this).addClass("navtree"),$(".thetab").hide(),$(".treediv").show(),$("#treea").show())}),$("body").on("click",".resolist li",function(){$(this).parent().find("li").removeClass("resact"),$(this).addClass("resact")}),$("body").on("click",".resolist-confirm li,.resolist-status li",function(){var e={token:token,confirm:"false"!==$(".resolist-confirm li.resact").attr("resval"),status:parseInt($(".resolist-status li.resact").attr("resval"))};table.settings()[0].ajax.data=e,table.ajax.reload()}),$("body").on("click",".j-platform",function(){portVar={ajaxUrlDelete:portsrc+"/res/platform/delete",type:""};$("#table-main .tablecont").html('<table class="table-main display" cellspacing="0" width="100%">   <thead>       <tr>           <th></th>           <th>序号</th>           <th>编码</th>           <th>工作状态</th>           <th>平台类别</th>           <th>系统类别</th>           <th>平台名称</th>           <th>服务器地址</th>           <th>所属地区</th>           <th>创建时间</th>           <th>操作</th>           <th></th>       </tr>   </thead>   <tfoot>       <tr>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>       </tr>   </tfoot>   <tbody></tbody></table>'),table=$("#table-main table").DataTable({scrollY:"calc(100% - 50px)",scrollX:!0,dom:'<"top"f >rt<"bottom"ilp><"clear">',dom:"tiprl",lengthMenu:[10,20,30,40,50],lengthChange:!0,bPaginate:!0,bFilter:!0,searching:!0,order:[1,"asc"],Info:!0,oLanguage:oLanguage,ajax:{url:portsrc+"/res/platform/all",type:"post",data:{token:token,confirm:"false"!==$(".resolist-confirm li.resact").attr("resval"),status:parseInt($(".resolist-status li.resact").attr("resval"))},dataSrc:function(e){console.log(e);for(var t=0,n=e.body.length;t<n;t++){var o=e.body[t];e.body[t].checkbox="<div class='checkone'><input type='checkbox' name='checkone' id='"+o.id+"' /><label for='"+o.id+"'></label></div>",e.body[t].tabnumb="<span class='tabnumb'>"+(o.id+1)+"</span>",e.body[t].state='<span class="statecol">'+o.state+"</span>",e.body[t].time="无",e.body[t].platformName="<a href='#/viewPlatResoInfo' url='components/viewPlatResoInfo.html' class='view-cont add_tab' name='查看平台资源信息'>"+o.platformName+"</a>",e.body[t].edit="<a href='#/editPlatResoInfo' url='components/editPlatResoInfo.html' class='editbtn add_tab' name='编辑平台资源信息'><i class='iconfont icon-bianji'></i>编辑</a>",e.body[t].delete="<span class='del delete'><i class='iconfont icon-shanchu'></i>删除</span>"}return e.body}},columns:[{data:"checkbox"},{data:"tabnumb"},{data:"resourceCode"},{data:"status"},{data:"platformType"},{data:"systemType"},{data:"platformName"},{data:"ipAddress"},{data:"areaStruct"},{data:"time"},{data:"edit"},{data:"delete"}],columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,10,11]}],fnDrawCallback:function(e){jumpPage($("#table-main"))},initComplete:function(){var e=this.api();e.columns().indexes().flatten().each(function(t){if(3==t||4==t||5==t||8==t){rowScreen(e.column(t))}})}}),userDef(table)}),$("body").on("click",".j-sub",function(){portVar={ajaxUrlDelete:portsrc+"/res/sub/delete",type:""};$("#table-main .tablecont").html('<table class="table-main display" cellspacing="0" width="100%">   <thead>       <tr>           <th></th>           <th>序号</th>           <th>编码</th>           <th>工作状态</th>           <th>设备类型名称</th>           <th>型号</th>           <th>终端物理地址</th>           <th>IP地址</th>           <th>所属地区</th>           <th>在线信息</th>           <th>操作</th>           <th></th>       </tr>   </thead>   <tfoot>       <tr>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>       </tr>   </tfoot>   <tbody></tbody></table>'),table=$("#table-main table").DataTable({scrollY:"calc(100% - 50px)",scrollX:!0,dom:'<"top"f >rt<"bottom"ilp><"clear">',dom:"tiprl",lengthMenu:[10,20,30,40,50],lengthChange:!0,bPaginate:!0,bFilter:!0,searching:!0,order:[1,"asc"],Info:!0,oLanguage:oLanguage,ajax:{url:portsrc+"/res/sub/all",type:"post",data:{token:token,confirm:"false"!==$(".resolist-confirm li.resact").attr("resval"),status:parseInt($(".resolist-status li.resact").attr("resval"))},dataSrc:function(e){console.log(e);for(var t=0,n=e.body.length;t<n;t++){var o=e.body[t];e.body[t].checkbox="<div class='checkone'><input type='checkbox' name='checkone' id='"+o.id+"' /><label for='"+o.id+"'></label></div>",e.body[t].tabnumb="<span class='tabnumb'>"+(o.id+1)+"</span>",e.body[t].state='<span class="statecol">'+o.state+"</span>","1"==e.body[t].deviceType?e.body[t].deviceType="室外音柱":"2"==e.body[t].deviceType&&(e.body[t].deviceType="室外收扩机"),"3"==e.body[t].deviceType&&(e.body[t].deviceType="大喇叭适配器"),"4"==e.body[t].deviceType&&(e.body[t].deviceType="接收控制器"),"5"==e.body[t].deviceType&&(e.body[t].deviceType="室内收扩机"),e.body[t].deviceType='<a href="#/viewJuniorTerminal" url="components/viewJuniorTerminal.html" class="view-cont add_tab" name="查看下级终端">'+e.body[t].deviceType+"</a>",e.body[t].edit='<a href="#/editJuniorTerminal" url="components/editJuniorTerminal.html" class="editbtn add_tab" name="编辑下级终端"><i class="iconfont icon-bianji"></i>编辑</a>',e.body[t].delete="<span class='del delete'><i class='iconfont icon-shanchu'></i>删除</span>",e.body[t].msg="在线消息"}return e.body}},columns:[{data:"checkbox"},{data:"tabnumb"},{data:"resourceCode"},{data:"status"},{data:"deviceType"},{data:"version"},{data:"macAddress"},{data:"ipAddress"},{data:"areaStruct"},{data:"msg"},{data:"edit"},{data:"delete"}],columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,9,10,11]}],fnDrawCallback:function(e){jumpPage($("#table-main"))},initComplete:function(){var e=this.api();e.columns().indexes().flatten().each(function(t){if(3==t||4==t||5==t||8==t){rowScreen(e.column(t))}})}}),userDef(table)}),$("body").on("click",".j-station",function(){portVar={ajaxUrlDelete:portsrc+"/res/station/delete",type:""};$("#table-main .tablecont").html('<table class="table-main display" cellspacing="0" width="100%">   <thead>       <tr>           <th></th>           <th>序号</th>           <th>编码</th>           <th>工作状态</th>           <th>发射台名称</th>           <th>物理地址</th>           <th>IP地址</th>           <th>所属地区</th>           <th>在线信息</th>           <th>操作</th>           <th></th>       </tr>   </thead>   <tfoot>       <tr>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>           <th></th>       </tr>   </tfoot>   <tbody></tbody></table>'),table=$("#table-main table").DataTable({scrollY:"calc(100% - 50px)",scrollX:!0,dom:'<"top"f >rt<"bottom"ilp><"clear">',dom:"tiprl",lengthMenu:[10,20,30,40,50],lengthChange:!0,bPaginate:!0,bFilter:!0,searching:!0,order:[1,"asc"],Info:!0,oLanguage:oLanguage,ajax:{url:portsrc+"/res/station/all",type:"post",data:{token:token,confirm:"false"!==$(".resolist-confirm li.resact").attr("resval"),status:parseInt($(".resolist-status li.resact").attr("resval"))},dataSrc:function(e){console.log(e);for(var t=0,n=e.body.length;t<n;t++){var o=e.body[t];e.body[t].checkbox="<div class='checkone'><input type='checkbox' name='checkone' id='"+o.id+"' /><label for='"+o.id+"'></label></div>",e.body[t].tabnumb="<span class='tabnumb'>"+(o.id+1)+"</span>",e.body[t].state='<span class="statecol">'+o.state+"</span>",e.body[t].edit='<a href="#/editStationResoInfo" url="components/editStationResoInfo.html" class="editbtn add_tab" name="编辑台站资源信息"><i class="iconfont icon-bianji"></i>编辑</a>',e.body[t].delete="<span class='del delete'><i class='iconfont icon-shanchu'></i>删除</span>",e.body[t].msg="在线信息"}return e.body}},columns:[{data:"checkbox"},{data:"tabnumb"},{data:"resourceCode"},{data:"status"},{data:"name"},{data:"macNo"},{data:"ipAddress"},{data:"areaStruct"},{data:"msg"},{data:"edit"},{data:"delete"}],columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,9,10]}],fnDrawCallback:function(e){jumpPage($("#table-main"))},initComplete:function(){var e=this.api();e.columns().indexes().flatten().each(function(t){if(3==t||4==t||5==t||8==t){rowScreen(e.column(t))}})}}),userDef(table)});var areaSetting={view:{showLine:!1},check:{enable:!0},callback:{onCheck:areaZTreeOnCheck}},resourceSetting={view:{showLine:!1},check:{enable:!0},callback:{onCheck:resourceZTreeOnCheck}},selSetting={view:{showLine:!1}},selectSetting={check:{enable:!0,chkStyle:"radio",radioType:"all"},view:{showLine:!1},data:{simpleData:{enable:!0}},callback:{onClick:onClick,onCheck:onCheck}},areaSel=[];$("body").on("click",".ztree .tree-close",function(e){confirm("确定删除吗？")&&removeDom($(this).parents(".ztree").attr("id"))});